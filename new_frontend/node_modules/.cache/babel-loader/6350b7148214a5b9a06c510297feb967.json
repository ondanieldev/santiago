{"ast":null,"code":"import _slicedToArray from\"/home/ondaniel/santiago/sisgie/new_frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _objectWithoutProperties from\"/home/ondaniel/santiago/sisgie/new_frontend/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";import React,{useEffect,useRef,useState,useCallback}from'react';import{FiAlertCircle}from'react-icons/fi';import{useField}from'@unform/core';import{Container,InputContainer,Error}from'./styles';var Input=function Input(_ref){var name=_ref.name,Icon=_ref.icon,_ref$autoComplete=_ref.autoComplete,autoComplete=_ref$autoComplete===void 0?'off':_ref$autoComplete,id=_ref.id,label=_ref.label,rest=_objectWithoutProperties(_ref,[\"name\",\"icon\",\"autoComplete\",\"id\",\"label\"]);var inputRef=useRef(null);var _useField=useField(name),fieldName=_useField.fieldName,error=_useField.error,registerField=_useField.registerField;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isFocused=_useState2[0],setIsFocused=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isFilled=_useState4[0],setIsFilled=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isErrored=_useState6[0],setIsErrored=_useState6[1];var handleFocus=useCallback(function(){setIsFocused(true);setIsErrored(false);},[]);var handleBlur=useCallback(function(){var _inputRef$current;setIsFocused(false);setIsFilled(!!((_inputRef$current=inputRef.current)===null||_inputRef$current===void 0?void 0:_inputRef$current.value));},[]);useEffect(function(){registerField({name:fieldName,ref:inputRef.current,path:'value'});},[fieldName,inputRef,registerField]);useEffect(function(){setIsErrored(!!error);},[error]);return/*#__PURE__*/React.createElement(Container,null,label&&/*#__PURE__*/React.createElement(\"label\",{htmlFor:id},label),/*#__PURE__*/React.createElement(InputContainer,{isErrored:isErrored,isFilled:isFilled,isFocused:isFocused},Icon&&/*#__PURE__*/React.createElement(Icon,{size:20}),/*#__PURE__*/React.createElement(\"input\",Object.assign({autoComplete:autoComplete,onFocus:handleFocus,onBlur:handleBlur,name:name,ref:inputRef,id:id},rest)),isErrored&&error&&/*#__PURE__*/React.createElement(Error,{title:error},/*#__PURE__*/React.createElement(FiAlertCircle,{color:\"#f44336\",size:20}))));};export default Input;","map":{"version":3,"sources":["/home/ondaniel/santiago/sisgie/new_frontend/src/components/Input/index.tsx"],"names":["React","useEffect","useRef","useState","useCallback","FiAlertCircle","useField","Container","InputContainer","Error","Input","name","Icon","icon","autoComplete","id","label","rest","inputRef","fieldName","error","registerField","isFocused","setIsFocused","isFilled","setIsFilled","isErrored","setIsErrored","handleFocus","handleBlur","current","value","ref","path"],"mappings":"gRAAA,MAAOA,CAAAA,KAAP,EAEEC,SAFF,CAGEC,MAHF,CAIEC,QAJF,CAKEC,WALF,KAMO,OANP,CAQA,OAASC,aAAT,KAA8B,gBAA9B,CACA,OAASC,QAAT,KAAyB,cAAzB,CAEA,OAASC,SAAT,CAAoBC,cAApB,CAAoCC,KAApC,KAAiD,UAAjD,CASA,GAAMC,CAAAA,KAA2B,CAAG,QAA9BA,CAAAA,KAA8B,MAO9B,IANJC,CAAAA,IAMI,MANJA,IAMI,CALEC,IAKF,MALJC,IAKI,wBAJJC,YAII,CAJJA,YAII,4BAJW,KAIX,mBAHJC,EAGI,MAHJA,EAGI,CAFJC,KAEI,MAFJA,KAEI,CADDC,IACC,4EACJ,GAAMC,CAAAA,QAAQ,CAAGhB,MAAM,CAAmB,IAAnB,CAAvB,CADI,cAGwCI,QAAQ,CAACK,IAAD,CAHhD,CAGIQ,SAHJ,WAGIA,SAHJ,CAGeC,KAHf,WAGeA,KAHf,CAGsBC,aAHtB,WAGsBA,aAHtB,eAK8BlB,QAAQ,CAAC,KAAD,CALtC,wCAKGmB,SALH,eAKcC,YALd,8BAM4BpB,QAAQ,CAAC,KAAD,CANpC,yCAMGqB,QANH,eAMaC,WANb,8BAO8BtB,QAAQ,CAAC,KAAD,CAPtC,yCAOGuB,SAPH,eAOcC,YAPd,eASJ,GAAMC,CAAAA,WAAW,CAAGxB,WAAW,CAAC,UAAM,CACpCmB,YAAY,CAAC,IAAD,CAAZ,CACAI,YAAY,CAAC,KAAD,CAAZ,CACD,CAH8B,CAG5B,EAH4B,CAA/B,CAKA,GAAME,CAAAA,UAAU,CAAGzB,WAAW,CAAC,UAAM,uBACnCmB,YAAY,CAAC,KAAD,CAAZ,CACAE,WAAW,CAAC,CAAC,qBAACP,QAAQ,CAACY,OAAV,4CAAC,kBAAkBC,KAAnB,CAAF,CAAX,CACD,CAH6B,CAG3B,EAH2B,CAA9B,CAKA9B,SAAS,CAAC,UAAM,CACdoB,aAAa,CAAC,CACZV,IAAI,CAAEQ,SADM,CAEZa,GAAG,CAAEd,QAAQ,CAACY,OAFF,CAGZG,IAAI,CAAE,OAHM,CAAD,CAAb,CAKD,CANQ,CAMN,CAACd,SAAD,CAAYD,QAAZ,CAAsBG,aAAtB,CANM,CAAT,CAQApB,SAAS,CAAC,UAAM,CACd0B,YAAY,CAAC,CAAC,CAACP,KAAH,CAAZ,CACD,CAFQ,CAEN,CAACA,KAAD,CAFM,CAAT,CAIA,mBACE,oBAAC,SAAD,MACGJ,KAAK,eAAI,6BAAO,OAAO,CAAED,EAAhB,EAAqBC,KAArB,CADZ,cAEE,oBAAC,cAAD,EACE,SAAS,CAAEU,SADb,CAEE,QAAQ,CAAEF,QAFZ,CAGE,SAAS,CAAEF,SAHb,EAKGV,IAAI,eAAI,oBAAC,IAAD,EAAM,IAAI,CAAE,EAAZ,EALX,cAME,2CACE,YAAY,CAAEE,YADhB,CAEE,OAAO,CAAEc,WAFX,CAGE,MAAM,CAAEC,UAHV,CAIE,IAAI,CAAElB,IAJR,CAKE,GAAG,CAAEO,QALP,CAME,EAAE,CAAEH,EANN,EAOME,IAPN,EANF,CAeGS,SAAS,EAAIN,KAAb,eACC,oBAAC,KAAD,EAAO,KAAK,CAAEA,KAAd,eACE,oBAAC,aAAD,EAAe,KAAK,CAAC,SAArB,CAA+B,IAAI,CAAE,EAArC,EADF,CAhBJ,CAFF,CADF,CA0BD,CAhED,CAkEA,cAAeV,CAAAA,KAAf","sourcesContent":["import React, {\n  InputHTMLAttributes,\n  useEffect,\n  useRef,\n  useState,\n  useCallback,\n} from 'react';\nimport { IconBaseProps } from 'react-icons';\nimport { FiAlertCircle } from 'react-icons/fi';\nimport { useField } from '@unform/core';\n\nimport { Container, InputContainer, Error } from './styles';\n\ninterface InputProps extends InputHTMLAttributes<HTMLInputElement> {\n  name: string;\n  icon?: React.ComponentType<IconBaseProps>;\n  search?: boolean;\n  label?: string;\n}\n\nconst Input: React.FC<InputProps> = ({\n  name,\n  icon: Icon,\n  autoComplete = 'off',\n  id,\n  label,\n  ...rest\n}) => {\n  const inputRef = useRef<HTMLInputElement>(null);\n\n  const { fieldName, error, registerField } = useField(name);\n\n  const [isFocused, setIsFocused] = useState(false);\n  const [isFilled, setIsFilled] = useState(false);\n  const [isErrored, setIsErrored] = useState(false);\n\n  const handleFocus = useCallback(() => {\n    setIsFocused(true);\n    setIsErrored(false);\n  }, []);\n\n  const handleBlur = useCallback(() => {\n    setIsFocused(false);\n    setIsFilled(!!inputRef.current?.value);\n  }, []);\n\n  useEffect(() => {\n    registerField({\n      name: fieldName,\n      ref: inputRef.current,\n      path: 'value',\n    });\n  }, [fieldName, inputRef, registerField]);\n\n  useEffect(() => {\n    setIsErrored(!!error);\n  }, [error]);\n\n  return (\n    <Container>\n      {label && <label htmlFor={id}>{label}</label>}\n      <InputContainer\n        isErrored={isErrored}\n        isFilled={isFilled}\n        isFocused={isFocused}\n      >\n        {Icon && <Icon size={20} />}\n        <input\n          autoComplete={autoComplete}\n          onFocus={handleFocus}\n          onBlur={handleBlur}\n          name={name}\n          ref={inputRef}\n          id={id}\n          {...rest}\n        />\n        {isErrored && error && (\n          <Error title={error}>\n            <FiAlertCircle color=\"#f44336\" size={20} />\n          </Error>\n        )}\n      </InputContainer>\n    </Container>\n  );\n};\n\nexport default Input;\n"]},"metadata":{},"sourceType":"module"}