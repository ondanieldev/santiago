{"ast":null,"code":"import _regeneratorRuntime from\"/home/ondaniel/santiago/sisgie/new_frontend/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/ondaniel/santiago/sisgie/new_frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/ondaniel/santiago/sisgie/new_frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useRef,useCallback,useState,useEffect}from'react';import{useHistory}from'react-router-dom';import{Form}from'@unform/web';import{FiClipboard,FiFlag,FiUser,FiUsers,FiHeart,FiBriefcase,FiPhone,FiSmartphone,FiMapPin,FiMail,FiDollarSign,FiArrowRight,FiInfo,FiCalendar,FiSmile,FiActivity}from'react-icons/fi';import cepPromise from'cep-promise';import{ValidationError as YupValidationError}from'yup';import{toast}from'react-toastify';import Aside from'../../components/Aside';import Header from'../../components/Header';import Title from'../../components/Title';import Heading from'../../components/Heading';import Input from'../../components/Input';import Select from'../../components/SelectInput';import Radio from'../../components/RadioInput';import Checkbox from'../../components/Checkbox';import File from'../../components/FileInput';import Button from'../../components/Button';import Loading from'../../components/Loading';import{educationLevelOptions,genderOptions,raceOptions}from'../../utils/defaults';import{Container,Main,FormGroup,InputGroup,ButtonGroup}from'./styles';import api from'../../services/api';import studentSchema from'../../schemas/studentSchema';import responsibleSchema from'../../schemas/responsibleSchema';import getValidationErrors from'../../utils/getValidationErrors';var NewEnrollment=function NewEnrollment(){var formRef=useRef(null);var history=useHistory();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),reuseAddress=_useState2[0],setReuseAddress=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),gradeOptions=_useState4[0],setGradeOptions=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),showOriginSchool=_useState6[0],setShowOriginSchool=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),showHealthPlan=_useState8[0],setShowHealthPlan=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),showMedicationAlergy=_useState10[0],setShowMedicationAlergy=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),showFoodAlergy=_useState12[0],setShowFoodAlergy=_useState12[1];var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),showHealthProblem=_useState14[0],setShowHealthProblem=_useState14[1];var _useState15=useState(false),_useState16=_slicedToArray(_useState15,2),showSpecialNecessities=_useState16[0],setShowSpecialNecessities=_useState16[1];var _useState17=useState(false),_useState18=_slicedToArray(_useState17,2),financialVerified=_useState18[0],setFinancialVerified=_useState18[1];var _useState19=useState(false),_useState20=_slicedToArray(_useState19,2),financialExists=_useState20[0],setFinancialExists=_useState20[1];var _useState21=useState({}),_useState22=_slicedToArray(_useState21,2),financialFromDB=_useState22[0],setFinancialFromDB=_useState22[1];var _useState23=useState(false),_useState24=_slicedToArray(_useState23,2),supportiveVerified=_useState24[0],setSupportiveVerified=_useState24[1];var _useState25=useState(false),_useState26=_slicedToArray(_useState25,2),supportiveExists=_useState26[0],setSupportiveExists=_useState26[1];var _useState27=useState({}),_useState28=_slicedToArray(_useState27,2),supportiveFromDB=_useState28[0],setSupportiveFromDB=_useState28[1];var _useState29=useState(false),_useState30=_slicedToArray(_useState29,2),loadingPage=_useState30[0],setLoadingPage=_useState30[1];var _useState31=useState(false),_useState32=_slicedToArray(_useState31,2),loadingVerify=_useState32[0],setLoadingVerify=_useState32[1];var _useState33=useState(false),_useState34=_slicedToArray(_useState33,2),loadingSubmit=_useState34[0],setLoadingSubmit=_useState34[1];var submitForm=useCallback(/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(data){var _formRef$current;var actualPrefixVerification,gradeField,_formRef$current2,config,financial_photos,financial_responsible,supportive_photos,supportive_responsible,student_photos,student,grade,response,_response$data,financial_id,supportive_id,student_id,financialPhotos,supportivePhotos,studentPhotos,_formRef$current3,errors;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!loadingSubmit){_context.next=2;break;}return _context.abrupt(\"return\");case 2:actualPrefixVerification='';if(!(!financialVerified||!supportiveVerified)){_context.next=6;break;}toast.error('É preciso que os dois responsáveis sejam cadastrados ou resgatados do sitema!');return _context.abrupt(\"return\");case 6:gradeField=(_formRef$current=formRef.current)===null||_formRef$current===void 0?void 0:_formRef$current.getFieldValue('grade.id');if(gradeField){_context.next=10;break;}toast.error('É preciso que uma turma seja selecionada!');return _context.abrupt(\"return\");case 10:setLoadingSubmit(true);_context.prev=11;(_formRef$current2=formRef.current)===null||_formRef$current2===void 0?void 0:_formRef$current2.setErrors({});config=data.config,financial_photos=data.financial_photos,financial_responsible=data.financial_responsible,supportive_photos=data.supportive_photos,supportive_responsible=data.supportive_responsible,student_photos=data.student_photos,student=data.student,grade=data.grade;financial_responsible.income_tax=config.financial_income_tax==='yes';student.ease_relating=config.student_ease_relating==='yes';if(financialExists){_context.next=20;break;}actualPrefixVerification='financial_responsible';_context.next=20;return responsibleSchema.validate(financial_responsible,{abortEarly:false});case 20:if(supportiveExists){_context.next=24;break;}actualPrefixVerification='supportive_responsible';_context.next=24;return responsibleSchema.validate(supportive_responsible,{abortEarly:false});case 24:actualPrefixVerification='student';_context.next=27;return studentSchema.validate(student,{abortEarly:false});case 27:_context.next=29;return api.post('/enrollments',{grade:grade,student:student,financial_responsible:financial_responsible,financial_responsible_id:financialFromDB.id,supportive_responsible:supportive_responsible,supportive_responsible_id:supportiveFromDB.id});case 29:response=_context.sent;_response$data=response.data,financial_id=_response$data.financial_id,supportive_id=_response$data.supportive_id,student_id=_response$data.student_id;if(!financial_photos){_context.next=38;break;}financialPhotos=new FormData();if(financial_photos.rg_photo){financialPhotos.append('rg_photo',financial_photos.rg_photo);}if(financial_photos.cpf_photo){financialPhotos.append('cpf_photo',financial_photos.cpf_photo);}if(financial_photos.residencial_proof_photo){financialPhotos.append('residencial_proof_photo',financial_photos.residencial_proof_photo);}_context.next=38;return api.patch(\"/persons/photos/\".concat(financial_id),financialPhotos);case 38:if(!supportive_photos){_context.next=45;break;}supportivePhotos=new FormData();if(supportive_photos.rg_photo){supportivePhotos.append('rg_photo',supportive_photos.rg_photo);}if(supportive_photos.cpf_photo){supportivePhotos.append('cpf_photo',supportive_photos.cpf_photo);}if(reuseAddress&&financial_photos.residencial_proof_photo){supportivePhotos.append('residencial_proof_photo',financial_photos.residencial_proof_photo);}else if(supportive_photos.residencial_proof_photo){supportivePhotos.append('residencial_proof_photo',supportive_photos.residencial_proof_photo);}_context.next=45;return api.patch(\"/persons/photos/\".concat(supportive_id),supportivePhotos);case 45:if(!student_photos){_context.next=55;break;}studentPhotos=new FormData();if(student_photos.birth_certificate_photo){studentPhotos.append('birth_certificate_photo',student_photos.birth_certificate_photo);}if(student_photos.health_plan_photo){studentPhotos.append('health_plan_photo',student_photos.health_plan_photo);}if(student_photos.monthly_declaration_photo){studentPhotos.append('monthly_declaration_photo',student_photos.monthly_declaration_photo);}if(student_photos.school_records_photo){studentPhotos.append('school_records_photo',student_photos.school_records_photo);}if(student_photos.transfer_declaration_photo){studentPhotos.append('transfer_declaration_photo',student_photos.transfer_declaration_photo);}if(student_photos.vaccine_card_photo){studentPhotos.append('vaccine_card_photo',student_photos.vaccine_card_photo);}_context.next=55;return api.patch(\"/students/photos/\".concat(student_id),studentPhotos);case 55:toast.success('Solicitação de matrícula enviada com sucesso!');history.push('dashboard');_context.next=68;break;case 59:_context.prev=59;_context.t0=_context[\"catch\"](11);if(!(_context.t0 instanceof YupValidationError)){_context.next=67;break;}_context.t0.inner.forEach(function(error){error.path=\"\".concat(actualPrefixVerification,\".\").concat(error.path);});errors=getValidationErrors(_context.t0);(_formRef$current3=formRef.current)===null||_formRef$current3===void 0?void 0:_formRef$current3.setErrors(errors);toast.error(\"Oops, alguns dados n\\xE3o foram preenchidos corretamente!\");return _context.abrupt(\"return\");case 67:if(_context.t0.response){toast.error(\"Erro ao solicitar matr\\xEDcula: \".concat(_context.t0.response.data.message));}else{toast.error('Erro interno do servidor! Por favor, tente novamente mais tarde.');}case 68:_context.prev=68;setLoadingSubmit(false);return _context.finish(68);case 71:case\"end\":return _context.stop();}}},_callee,null,[[11,59,68,71]]);}));return function(_x){return _ref.apply(this,arguments);};}(),[financialExists,supportiveExists,financialVerified,supportiveVerified,financialFromDB.id,supportiveFromDB.id,loadingSubmit,history,reuseAddress]);var handleSearchAddressByCep=useCallback(function(cep,responsible_type){cepPromise(cep).then(function(result){var street=result.street,neighborhood=result.neighborhood,city=result.city;if(responsible_type==='financial'){var _formRef$current4,_formRef$current5,_formRef$current6;(_formRef$current4=formRef.current)===null||_formRef$current4===void 0?void 0:_formRef$current4.setFieldValue('financial_responsible.address_street',street);(_formRef$current5=formRef.current)===null||_formRef$current5===void 0?void 0:_formRef$current5.setFieldValue('financial_responsible.address_neighborhood',neighborhood);(_formRef$current6=formRef.current)===null||_formRef$current6===void 0?void 0:_formRef$current6.setFieldValue('financial_responsible.address_city',city);}else{var _formRef$current7,_formRef$current8,_formRef$current9;(_formRef$current7=formRef.current)===null||_formRef$current7===void 0?void 0:_formRef$current7.setFieldValue('supportive_responsible.address_street',street);(_formRef$current8=formRef.current)===null||_formRef$current8===void 0?void 0:_formRef$current8.setFieldValue('supportive_responsible.address_neighborhood',neighborhood);(_formRef$current9=formRef.current)===null||_formRef$current9===void 0?void 0:_formRef$current9.setFieldValue('supportive_responsible.address_city',city);}});},[]);var handleVerifyIfResponsibleExists=useCallback(/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(responsible_type){var _formRef$current10,cpf,response,person,_formRef$current11,_formRef$current12;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(!loadingVerify){_context2.next=2;break;}return _context2.abrupt(\"return\");case 2:setLoadingVerify(true);_context2.prev=3;cpf=(_formRef$current10=formRef.current)===null||_formRef$current10===void 0?void 0:_formRef$current10.getFieldValue(\"config.verify_\".concat(responsible_type,\"_cpf\"));_context2.next=7;return api.get(\"/persons/\".concat(cpf));case 7:response=_context2.sent;person=response.data;if(responsible_type==='financial'){setFinancialVerified(true);if(person){setFinancialExists(true);setFinancialFromDB(person);toast.success('Os dados foram resgatados com sucesso! Preencha apenas o campo de parentesco.');}else{toast.info('Responsável não encontrado! Por favor, preencha as informações de cadastro.');(_formRef$current11=formRef.current)===null||_formRef$current11===void 0?void 0:_formRef$current11.setFieldValue('financial_responsible.cpf',cpf);}}else{setSupportiveVerified(true);if(person){setSupportiveExists(true);setSupportiveFromDB(person);toast.success('Os dados foram resgatados com sucesso! Preencha apenas o campo de parentesco.');}else{toast.info('Responsável não encontrado! Por favor, preencha as informações de cadastro.');(_formRef$current12=formRef.current)===null||_formRef$current12===void 0?void 0:_formRef$current12.setFieldValue('supportive_responsible.cpf',cpf);}}_context2.next=15;break;case 12:_context2.prev=12;_context2.t0=_context2[\"catch\"](3);toast.error('Erro ao tentar buscar responsável! Por favor, preencha o campo de busca.');case 15:_context2.prev=15;setLoadingVerify(false);return _context2.finish(15);case 18:case\"end\":return _context2.stop();}}},_callee2,null,[[3,12,15,18]]);}));return function(_x2){return _ref2.apply(this,arguments);};}(),[formRef,loadingVerify]);useEffect(function(){if(reuseAddress){var _formRef$current13,_formRef$current14,_formRef$current15,_formRef$current16,_formRef$current17,_formRef$current18,_formRef$current19,_formRef$current20,_formRef$current21,_formRef$current22,_formRef$current23,_formRef$current24;var street=(_formRef$current13=formRef.current)===null||_formRef$current13===void 0?void 0:_formRef$current13.getFieldValue('financial_responsible.address_street');var number=(_formRef$current14=formRef.current)===null||_formRef$current14===void 0?void 0:_formRef$current14.getFieldValue('financial_responsible.address_number');var complement=(_formRef$current15=formRef.current)===null||_formRef$current15===void 0?void 0:_formRef$current15.getFieldValue('financial_responsible.address_complement');var neighborhood=(_formRef$current16=formRef.current)===null||_formRef$current16===void 0?void 0:_formRef$current16.getFieldValue('financial_responsible.address_neighborhood');var city=(_formRef$current17=formRef.current)===null||_formRef$current17===void 0?void 0:_formRef$current17.getFieldValue('financial_responsible.address_city');var cep=(_formRef$current18=formRef.current)===null||_formRef$current18===void 0?void 0:_formRef$current18.getFieldValue('financial_responsible.address_cep');(_formRef$current19=formRef.current)===null||_formRef$current19===void 0?void 0:_formRef$current19.setFieldValue('supportive_responsible.address_street',street);(_formRef$current20=formRef.current)===null||_formRef$current20===void 0?void 0:_formRef$current20.setFieldValue('supportive_responsible.address_number',number);(_formRef$current21=formRef.current)===null||_formRef$current21===void 0?void 0:_formRef$current21.setFieldValue('supportive_responsible.address_complement',complement);(_formRef$current22=formRef.current)===null||_formRef$current22===void 0?void 0:_formRef$current22.setFieldValue('supportive_responsible.address_neighborhood',neighborhood);(_formRef$current23=formRef.current)===null||_formRef$current23===void 0?void 0:_formRef$current23.setFieldValue('supportive_responsible.address_city',city);(_formRef$current24=formRef.current)===null||_formRef$current24===void 0?void 0:_formRef$current24.setFieldValue('supportive_responsible.address_cep',cep);}else{var _formRef$current25,_formRef$current26,_formRef$current27,_formRef$current28,_formRef$current29,_formRef$current30;(_formRef$current25=formRef.current)===null||_formRef$current25===void 0?void 0:_formRef$current25.setFieldValue('supportive_responsible.address_street','');(_formRef$current26=formRef.current)===null||_formRef$current26===void 0?void 0:_formRef$current26.setFieldValue('supportive_responsible.address_number','');(_formRef$current27=formRef.current)===null||_formRef$current27===void 0?void 0:_formRef$current27.setFieldValue('supportive_responsible.address_complement','');(_formRef$current28=formRef.current)===null||_formRef$current28===void 0?void 0:_formRef$current28.setFieldValue('supportive_responsible.address_neighborhood','');(_formRef$current29=formRef.current)===null||_formRef$current29===void 0?void 0:_formRef$current29.setFieldValue('supportive_responsible.address_city','');(_formRef$current30=formRef.current)===null||_formRef$current30===void 0?void 0:_formRef$current30.setFieldValue('supportive_responsible.address_cep','');}},[reuseAddress]);useEffect(function(){setLoadingPage(true);api.get('/grades').then(function(response){var grades=[];var gradesFromApi=response.data;grades.push({value:'',label:'Turma desejada'});gradesFromApi.forEach(function(grade){grades.push({value:grade.id,label:grade.name});});setGradeOptions(grades);}).catch(function(){toast.error('Erro ao carregar informações do servidor! Tente novamente mais tarde.');}).finally(function(){setLoadingPage(false);});},[]);useEffect(function(){if(financialVerified){var _formRef$current31,_formRef$current32;var cpf=(_formRef$current31=formRef.current)===null||_formRef$current31===void 0?void 0:_formRef$current31.getFieldValue(\"config.verify_financial_cpf\");(_formRef$current32=formRef.current)===null||_formRef$current32===void 0?void 0:_formRef$current32.setFieldValue('financial_responsible.cpf',cpf);}},[financialVerified]);useEffect(function(){if(supportiveVerified){var _formRef$current33,_formRef$current34;var cpf=(_formRef$current33=formRef.current)===null||_formRef$current33===void 0?void 0:_formRef$current33.getFieldValue(\"config.verify_supportive_cpf\");(_formRef$current34=formRef.current)===null||_formRef$current34===void 0?void 0:_formRef$current34.setFieldValue('supportive_responsible.cpf',cpf);}},[supportiveVerified]);return/*#__PURE__*/React.createElement(Container,null,/*#__PURE__*/React.createElement(Loading,{show:loadingPage}),/*#__PURE__*/React.createElement(Header,null),/*#__PURE__*/React.createElement(Aside,null),/*#__PURE__*/React.createElement(Main,null,/*#__PURE__*/React.createElement(Title,{title:\"Nova matr\\xEDcula\"}),/*#__PURE__*/React.createElement(Form,{ref:formRef,onSubmit:submitForm},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Heading,{title:\"Dados do respons\\xE1vel financeiro\"}),/*#__PURE__*/React.createElement(InputGroup,null,/*#__PURE__*/React.createElement(Input,{name:\"config.verify_financial_cpf\",icon:FiClipboard,placeholder:\"Digite o CPF para verificar se j\\xE1 est\\xE1 cadastrado\"}),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Button,{type:\"button\",onClick:function onClick(){return handleVerifyIfResponsibleExists('financial');},loading:loadingVerify},\"Verificar registro\"))),financialVerified&&financialExists&&/*#__PURE__*/React.createElement(InputGroup,null,/*#__PURE__*/React.createElement(Input,{name:\"financial_responsible.name\",placeholder:\"Nome\",icon:FiUser,value:financialFromDB.name,readOnly:true}),/*#__PURE__*/React.createElement(Input,{name:\"financial_responsible.kinship\",placeholder:\"Parentesco com o aluno\",icon:FiUsers})),financialVerified&&!financialExists&&/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(InputGroup,null,/*#__PURE__*/React.createElement(Input,{name:\"financial_responsible.name\",placeholder:\"Nome\",icon:FiUser}),/*#__PURE__*/React.createElement(Input,{name:\"financial_responsible.kinship\",placeholder:\"Parentesco com o aluno\",icon:FiUsers})),/*#__PURE__*/React.createElement(InputGroup,null,/*#__PURE__*/React.createElement(Input,{name:\"financial_responsible.rg\",placeholder:\"RG\",icon:FiClipboard}),/*#__PURE__*/React.createElement(Input,{name:\"financial_responsible.cpf\",placeholder:\"CPF\",icon:FiClipboard})),/*#__PURE__*/React.createElement(InputGroup,null,/*#__PURE__*/React.createElement(Input,{name:\"financial_responsible.nacionality\",placeholder:\"Nacionalidade\",icon:FiFlag}),/*#__PURE__*/React.createElement(Input,{name:\"financial_responsible.civil_state\",placeholder:\"Estado civil\",icon:FiHeart})),/*#__PURE__*/React.createElement(InputGroup,null,/*#__PURE__*/React.createElement(Select,{name:\"financial_responsible.education_level\",icon:FiInfo,optionsArray:educationLevelOptions}),/*#__PURE__*/React.createElement(Input,{name:\"financial_responsible.profission\",placeholder:\"Profiss\\xE3o\",icon:FiBriefcase})),/*#__PURE__*/React.createElement(InputGroup,null,/*#__PURE__*/React.createElement(Input,{name:\"financial_responsible.workplace\",placeholder:\"Local de trabalho\",icon:FiBriefcase}),/*#__PURE__*/React.createElement(Input,{name:\"financial_responsible.commercial_phone\",placeholder:\"Telefone comercial\",icon:FiPhone})),/*#__PURE__*/React.createElement(InputGroup,null,/*#__PURE__*/React.createElement(Input,{name:\"financial_responsible.residencial_phone\",placeholder:\"Telefone residencial\",icon:FiPhone}),/*#__PURE__*/React.createElement(Input,{name:\"financial_responsible.personal_phone\",placeholder:\"Telefone pessoal\",icon:FiSmartphone})),/*#__PURE__*/React.createElement(InputGroup,null,/*#__PURE__*/React.createElement(Input,{name:\"financial_responsible.address_cep\",placeholder:\"CEP\",icon:FiMapPin,onBlur:function onBlur(e){return handleSearchAddressByCep(e.target.value,'financial');}}),/*#__PURE__*/React.createElement(Input,{name:\"financial_responsible.address_street\",placeholder:\"Rua\",icon:FiMapPin})),/*#__PURE__*/React.createElement(InputGroup,null,/*#__PURE__*/React.createElement(Input,{type:\"number\",name:\"financial_responsible.address_number\",placeholder:\"N\\xFAmero\",icon:FiMapPin}),/*#__PURE__*/React.createElement(Input,{name:\"financial_responsible.address_complement\",placeholder:\"Complemento\",icon:FiMapPin})),/*#__PURE__*/React.createElement(InputGroup,null,/*#__PURE__*/React.createElement(Input,{name:\"financial_responsible.address_neighborhood\",placeholder:\"Bairro\",icon:FiMapPin}),/*#__PURE__*/React.createElement(Input,{name:\"financial_responsible.address_city\",placeholder:\"Cidade\",icon:FiMapPin})),/*#__PURE__*/React.createElement(InputGroup,null,/*#__PURE__*/React.createElement(Input,{type:\"email\",name:\"financial_responsible.email\",placeholder:\"E-mail\",icon:FiMail}),/*#__PURE__*/React.createElement(Input,{type:\"number\",name:\"financial_responsible.monthly_income\",placeholder:\"Renda mensal\",icon:FiDollarSign})),/*#__PURE__*/React.createElement(InputGroup,null,/*#__PURE__*/React.createElement(Input,{type:\"date\",name:\"financial_responsible.birth_date\",icon:FiCalendar,label:\"Data de nascimento\"})),/*#__PURE__*/React.createElement(InputGroup,null,/*#__PURE__*/React.createElement(Radio,{name:\"config.financial_income_tax\",label:\"Declara imposto de renda?\",options:[{id:'fit1',label:'Sim',value:'yes'},{id:'fit2',label:'Não',value:'no',default:true}]})),/*#__PURE__*/React.createElement(InputGroup,null,/*#__PURE__*/React.createElement(File,{name:\"financial_photos.rg_photo\",buttonText:\"RG\"})),/*#__PURE__*/React.createElement(InputGroup,null,/*#__PURE__*/React.createElement(File,{name:\"financial_photos.cpf_photo\",buttonText:\"CPF\"})),/*#__PURE__*/React.createElement(InputGroup,null,/*#__PURE__*/React.createElement(File,{name:\"financial_photos.residencial_proof_photo\",buttonText:\"Comprovante de endere\\xE7o\"})))),/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Heading,{title:\"Dados do respons\\xE1vel solid\\xE1rio\"}),/*#__PURE__*/React.createElement(InputGroup,null,/*#__PURE__*/React.createElement(Input,{name:\"config.verify_supportive_cpf\",icon:FiClipboard,placeholder:\"Digite o CPF para verificar se j\\xE1 est\\xE1 cadastrado\"}),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Button,{type:\"button\",onClick:function onClick(){return handleVerifyIfResponsibleExists('supportive');},loading:loadingVerify},\"Verificar registro\"))),supportiveVerified&&supportiveExists&&/*#__PURE__*/React.createElement(InputGroup,null,/*#__PURE__*/React.createElement(Input,{name:\"supportive_responsible.name\",placeholder:\"Nome\",icon:FiUser,value:supportiveFromDB.name,readOnly:true}),/*#__PURE__*/React.createElement(Input,{name:\"supportive_responsible.kinship\",placeholder:\"Parentesco com o aluno\",icon:FiUsers})),supportiveVerified&&!supportiveExists&&/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(InputGroup,null,/*#__PURE__*/React.createElement(Input,{name:\"supportive_responsible.name\",placeholder:\"Nome\",icon:FiUser}),/*#__PURE__*/React.createElement(Input,{name:\"supportive_responsible.kinship\",placeholder:\"Parentesco com o aluno\",icon:FiUsers})),/*#__PURE__*/React.createElement(InputGroup,null,/*#__PURE__*/React.createElement(Input,{name:\"supportive_responsible.rg\",placeholder:\"RG\",icon:FiClipboard}),/*#__PURE__*/React.createElement(Input,{name:\"supportive_responsible.cpf\",placeholder:\"CPF\",icon:FiClipboard})),/*#__PURE__*/React.createElement(InputGroup,null,/*#__PURE__*/React.createElement(Input,{name:\"supportive_responsible.nacionality\",placeholder:\"Nacionalidade\",icon:FiFlag}),/*#__PURE__*/React.createElement(Input,{name:\"supportive_responsible.civil_state\",placeholder:\"Estado civil\",icon:FiHeart})),/*#__PURE__*/React.createElement(InputGroup,null,/*#__PURE__*/React.createElement(Select,{name:\"supportive_responsible.education_level\",icon:FiInfo,optionsArray:educationLevelOptions}),/*#__PURE__*/React.createElement(Input,{name:\"supportive_responsible.profission\",placeholder:\"Profiss\\xE3o\",icon:FiBriefcase})),/*#__PURE__*/React.createElement(InputGroup,null,/*#__PURE__*/React.createElement(Input,{name:\"supportive_responsible.workplace\",placeholder:\"Local de trabalho\",icon:FiBriefcase}),/*#__PURE__*/React.createElement(Input,{name:\"supportive_responsible.commercial_phone\",placeholder:\"Telefone comercial\",icon:FiPhone})),/*#__PURE__*/React.createElement(InputGroup,null,/*#__PURE__*/React.createElement(Input,{name:\"supportive_responsible.residencial_phone\",placeholder:\"Telefone residencial\",icon:FiPhone}),/*#__PURE__*/React.createElement(Input,{name:\"supportive_responsible.personal_phone\",placeholder:\"Telefone pessoal\",icon:FiSmartphone})),/*#__PURE__*/React.createElement(InputGroup,null,/*#__PURE__*/React.createElement(Checkbox,{name:\"config.reaproove_address\",label:\"Utilizar o mesmo endere\\xE7o do respons\\xE1vel financeiro?\",onChange:function onChange(e){return setReuseAddress(e.target.checked);}})),/*#__PURE__*/React.createElement(InputGroup,null,/*#__PURE__*/React.createElement(Input,{name:\"supportive_responsible.address_cep\",placeholder:\"CEP\",icon:FiMapPin,onBlur:function onBlur(e){return handleSearchAddressByCep(e.target.value,'supportive');}}),/*#__PURE__*/React.createElement(Input,{name:\"supportive_responsible.address_street\",placeholder:\"Rua\",icon:FiMapPin})),/*#__PURE__*/React.createElement(InputGroup,null,/*#__PURE__*/React.createElement(Input,{type:\"number\",name:\"supportive_responsible.address_number\",placeholder:\"N\\xFAmero\",icon:FiMapPin}),/*#__PURE__*/React.createElement(Input,{name:\"supportive_responsible.address_complement\",placeholder:\"Complemento\",icon:FiMapPin})),/*#__PURE__*/React.createElement(InputGroup,null,/*#__PURE__*/React.createElement(Input,{name:\"supportive_responsible.address_neighborhood\",placeholder:\"Bairro\",icon:FiMapPin}),/*#__PURE__*/React.createElement(Input,{name:\"supportive_responsible.address_city\",placeholder:\"Cidade\",icon:FiMapPin})),/*#__PURE__*/React.createElement(InputGroup,null,/*#__PURE__*/React.createElement(Input,{type:\"email\",name:\"supportive_responsible.email\",placeholder:\"E-mail\",icon:FiMail}),/*#__PURE__*/React.createElement(Input,{type:\"number\",name:\"supportive_responsible.monthly_income\",placeholder:\"Renda mensal\",icon:FiDollarSign})),/*#__PURE__*/React.createElement(InputGroup,null,/*#__PURE__*/React.createElement(Input,{type:\"date\",name:\"supportive_responsible.birth_date\",icon:FiCalendar,label:\"Data de nascimento\"})),/*#__PURE__*/React.createElement(InputGroup,null,/*#__PURE__*/React.createElement(File,{name:\"supportive_photos.rg_photo\",buttonText:\"RG\"})),/*#__PURE__*/React.createElement(InputGroup,null,/*#__PURE__*/React.createElement(File,{name:\"supportive_photos.cpf_photo\",buttonText:\"CPF\"})),!reuseAddress&&/*#__PURE__*/React.createElement(InputGroup,null,/*#__PURE__*/React.createElement(File,{name:\"supportive_photos.residencial_proof_photo\",buttonText:\"Comprovante de endere\\xE7o\"})))),/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Heading,{title:\"Dados do aluno\"}),/*#__PURE__*/React.createElement(InputGroup,null,/*#__PURE__*/React.createElement(Input,{name:\"student.name\",placeholder:\"Nome\",icon:FiUser})),/*#__PURE__*/React.createElement(InputGroup,null,/*#__PURE__*/React.createElement(Input,{name:\"student.nacionality\",placeholder:\"Nacionalidade\",icon:FiFlag})),/*#__PURE__*/React.createElement(InputGroup,null,/*#__PURE__*/React.createElement(Input,{name:\"student.birth_city\",placeholder:\"Cidade natal\",icon:FiMapPin}),/*#__PURE__*/React.createElement(Input,{name:\"student.birth_state\",placeholder:\"Estado natal\",icon:FiMapPin})),/*#__PURE__*/React.createElement(InputGroup,null,/*#__PURE__*/React.createElement(Input,{name:\"student.father_name\",placeholder:\"Nome do pai\",icon:FiUsers}),/*#__PURE__*/React.createElement(Input,{name:\"student.mother_name\",placeholder:\"Nome da m\\xE3e\",icon:FiUsers})),/*#__PURE__*/React.createElement(InputGroup,null,/*#__PURE__*/React.createElement(Select,{name:\"student.gender\",icon:FiInfo,optionsArray:genderOptions}),/*#__PURE__*/React.createElement(Select,{name:\"student.race\",icon:FiInfo,optionsArray:raceOptions})),/*#__PURE__*/React.createElement(InputGroup,null,/*#__PURE__*/React.createElement(Input,{type:\"date\",name:\"student.birth_date\",icon:FiCalendar,label:\"Data de nascimento\"}),/*#__PURE__*/React.createElement(Select,{name:\"grade.id\",icon:FiSmile,optionsArray:gradeOptions})),/*#__PURE__*/React.createElement(InputGroup,null,/*#__PURE__*/React.createElement(Radio,{name:\"config.has_origin_school\",label:\"Selecione uma op\\xE7\\xE3o:\",options:[{id:'hos1',label:'Matrícula',value:'yes'},{id:'hos2',label:'Rematrícula',value:'no',default:true}],change:function change(value){return setShowOriginSchool(value==='yes');}}),showOriginSchool&&/*#__PURE__*/React.createElement(Input,{name:\"student.origin_school\",placeholder:\"Escola de origem\",icon:FiMapPin})),/*#__PURE__*/React.createElement(InputGroup,null,/*#__PURE__*/React.createElement(Radio,{name:\"config.has_health_plan\",label:\"Possui algum plano de sa\\xFAde?\",options:[{id:'hhp1',label:'Sim',value:'yes'},{id:'hhp2',label:'Não',value:'no',default:true}],change:function change(value){return setShowHealthPlan(value==='yes');}}),showHealthPlan&&/*#__PURE__*/React.createElement(Input,{name:\"student.health_plan\",placeholder:\"Qual?\",icon:FiActivity})),/*#__PURE__*/React.createElement(InputGroup,null,/*#__PURE__*/React.createElement(Radio,{name:\"config.has_medication_alergy\",label:\"Possui alergia a algum medicamento?\",options:[{id:'hma1',label:'Sim',value:'yes'},{id:'hma2',label:'Não',value:'no',default:true}],change:function change(value){return setShowMedicationAlergy(value==='yes');}}),showMedicationAlergy&&/*#__PURE__*/React.createElement(Input,{name:\"student.medication_alergy\",placeholder:\"Qual?\",icon:FiActivity})),/*#__PURE__*/React.createElement(InputGroup,null,/*#__PURE__*/React.createElement(Radio,{name:\"config.has_food_alergy\",label:\"Possui alergia a algum alimento?\",options:[{id:'hfa1',label:'Sim',value:'yes'},{id:'hfa2',label:'Não',value:'no',default:true}],change:function change(value){return setShowFoodAlergy(value==='yes');}}),showFoodAlergy&&/*#__PURE__*/React.createElement(Input,{name:\"student.food_alergy\",placeholder:\"Qual?\",icon:FiActivity})),/*#__PURE__*/React.createElement(InputGroup,null,/*#__PURE__*/React.createElement(Radio,{name:\"config.has_health_problem\",label:\"Possui algum problema de sa\\xFAde?\",options:[{id:'hhpp1',label:'Sim',value:'yes'},{id:'hhpp2',label:'Não',value:'no',default:true}],change:function change(value){return setShowHealthProblem(value==='yes');}}),showHealthProblem&&/*#__PURE__*/React.createElement(Input,{name:\"student.health_problem\",placeholder:\"Qual?\",icon:FiActivity})),/*#__PURE__*/React.createElement(InputGroup,null,/*#__PURE__*/React.createElement(Radio,{name:\"config.has_special_necessities\",label:\"Possui alguma necessidade especial?\",options:[{id:'hsn1',label:'Sim',value:'yes'},{id:'hsn2',label:'Não',value:'no',default:true}],change:function change(value){return setShowSpecialNecessities(value==='yes');}}),showSpecialNecessities&&/*#__PURE__*/React.createElement(Input,{name:\"student.special_necessities\",placeholder:\"Qual?\",icon:FiActivity})),/*#__PURE__*/React.createElement(InputGroup,null,/*#__PURE__*/React.createElement(Radio,{name:\"config.student_ease_relating\",label:\"Tem facilidade de se relacionar?\",options:[{id:'ser1',label:'Sim',value:'yes'},{id:'ser2',label:'Não',value:'no',default:true}]})),/*#__PURE__*/React.createElement(InputGroup,null,/*#__PURE__*/React.createElement(File,{name:\"student_photos.school_records_photo\",buttonText:\"Hist\\xF3rico escolar\"})),/*#__PURE__*/React.createElement(InputGroup,null,/*#__PURE__*/React.createElement(File,{name:\"student_photos.vaccine_card_photo\",buttonText:\"Cart\\xE3o de vacina\"})),/*#__PURE__*/React.createElement(InputGroup,null,/*#__PURE__*/React.createElement(File,{name:\"student_photos.birth_certificate_photo\",buttonText:\"Certid\\xE3o de nascimento\"})),/*#__PURE__*/React.createElement(InputGroup,null,/*#__PURE__*/React.createElement(File,{name:\"student_photos.health_plan_photo\",buttonText:\"Cart\\xE3o do plano de sa\\xFAde\"})),/*#__PURE__*/React.createElement(InputGroup,null,/*#__PURE__*/React.createElement(File,{name:\"student_photos.transfer_declaration_photo\",buttonText:\"Declara\\xE7\\xE3o de transfer\\xEAncia\"})),/*#__PURE__*/React.createElement(InputGroup,null,/*#__PURE__*/React.createElement(File,{name:\"student_photos.monthly_declaration_photo\",buttonText:\"Declara\\xE7\\xE3o de quita\\xE7\\xE3o de d\\xE9bito da escola anterior\"}))),/*#__PURE__*/React.createElement(ButtonGroup,null,/*#__PURE__*/React.createElement(Button,{type:\"submit\",loading:loadingSubmit},\"Enviar\",/*#__PURE__*/React.createElement(FiArrowRight,{size:20}))))));};export default NewEnrollment;","map":{"version":3,"sources":["/home/ondaniel/santiago/sisgie/new_frontend/src/pages/NewEnrollment/index.tsx"],"names":["React","useRef","useCallback","useState","useEffect","useHistory","Form","FiClipboard","FiFlag","FiUser","FiUsers","FiHeart","FiBriefcase","FiPhone","FiSmartphone","FiMapPin","FiMail","FiDollarSign","FiArrowRight","FiInfo","FiCalendar","FiSmile","FiActivity","cepPromise","ValidationError","YupValidationError","toast","Aside","Header","Title","Heading","Input","Select","Radio","Checkbox","File","Button","Loading","educationLevelOptions","genderOptions","raceOptions","Container","Main","FormGroup","InputGroup","ButtonGroup","api","studentSchema","responsibleSchema","getValidationErrors","NewEnrollment","formRef","history","reuseAddress","setReuseAddress","gradeOptions","setGradeOptions","showOriginSchool","setShowOriginSchool","showHealthPlan","setShowHealthPlan","showMedicationAlergy","setShowMedicationAlergy","showFoodAlergy","setShowFoodAlergy","showHealthProblem","setShowHealthProblem","showSpecialNecessities","setShowSpecialNecessities","financialVerified","setFinancialVerified","financialExists","setFinancialExists","financialFromDB","setFinancialFromDB","supportiveVerified","setSupportiveVerified","supportiveExists","setSupportiveExists","supportiveFromDB","setSupportiveFromDB","loadingPage","setLoadingPage","loadingVerify","setLoadingVerify","loadingSubmit","setLoadingSubmit","submitForm","data","actualPrefixVerification","error","gradeField","current","getFieldValue","setErrors","config","financial_photos","financial_responsible","supportive_photos","supportive_responsible","student_photos","student","grade","income_tax","financial_income_tax","ease_relating","student_ease_relating","validate","abortEarly","post","financial_responsible_id","id","supportive_responsible_id","response","financial_id","supportive_id","student_id","financialPhotos","FormData","rg_photo","append","cpf_photo","residencial_proof_photo","patch","supportivePhotos","studentPhotos","birth_certificate_photo","health_plan_photo","monthly_declaration_photo","school_records_photo","transfer_declaration_photo","vaccine_card_photo","success","push","inner","forEach","path","errors","message","handleSearchAddressByCep","cep","responsible_type","then","result","street","neighborhood","city","setFieldValue","handleVerifyIfResponsibleExists","cpf","get","person","info","number","complement","grades","gradesFromApi","value","label","name","catch","finally","e","target","default","checked"],"mappings":"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","sourcesContent":["import React, { useRef, useCallback, useState, useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { FormHandles } from '@unform/core';\nimport { Form } from '@unform/web';\nimport {\n  FiClipboard,\n  FiFlag,\n  FiUser,\n  FiUsers,\n  FiHeart,\n  FiBriefcase,\n  FiPhone,\n  FiSmartphone,\n  FiMapPin,\n  FiMail,\n  FiDollarSign,\n  FiArrowRight,\n  FiInfo,\n  FiCalendar,\n  FiSmile,\n  FiActivity,\n} from 'react-icons/fi';\nimport cepPromise from 'cep-promise';\nimport { ValidationError as YupValidationError } from 'yup';\nimport { toast } from 'react-toastify';\n\nimport Aside from '../../components/Aside';\nimport Header from '../../components/Header';\nimport Title from '../../components/Title';\nimport Heading from '../../components/Heading';\nimport Input from '../../components/Input';\nimport Select from '../../components/SelectInput';\nimport Radio from '../../components/RadioInput';\nimport Checkbox from '../../components/Checkbox';\nimport File from '../../components/FileInput';\nimport Button from '../../components/Button';\nimport Loading from '../../components/Loading';\nimport {\n  educationLevelOptions,\n  genderOptions,\n  raceOptions,\n  IOption,\n} from '../../utils/defaults';\nimport { Container, Main, FormGroup, InputGroup, ButtonGroup } from './styles';\nimport api from '../../services/api';\nimport IGrade from '../../entities/IGrade';\nimport IPerson from '../../entities/IPerson';\nimport IStudent from '../../entities/IStudent';\nimport studentSchema from '../../schemas/studentSchema';\nimport responsibleSchema from '../../schemas/responsibleSchema';\nimport getValidationErrors from '../../utils/getValidationErrors';\n\ninterface IConfigDTO {\n  has_food_alergy: 'no' | 'yes';\n  has_health_plan: 'no' | 'yes';\n  has_health_problem: 'no' | 'yes';\n  has_medication_alergy: 'no' | 'yes';\n  has_origin_school: 'no' | 'yes';\n  has_special_necessities: 'no' | 'yes';\n  verify_financial_cpf: string;\n  verify_supportive_cpf: string;\n  reaproove_address: boolean;\n  financial_income_tax: 'no' | 'yes';\n  student_ease_relating: 'no' | 'yes';\n}\n\ninterface IGradeDTO {\n  id: string;\n}\n\ntype IStudentDTO = Omit<\n  IStudent,\n  | 'birth_certificate_photo'\n  | 'vaccine_card_photo'\n  | 'health_plan_photo'\n  | 'transfer_declaration_photo'\n  | 'monthly_declaration_photo'\n  | 'school_records_photo'\n>;\n\ninterface IStudentPhotosDTO {\n  birth_certificate_photo?: string;\n  vaccine_card_photo?: string;\n  health_plan_photo?: string;\n  transfer_declaration_photo?: string;\n  monthly_declaration_photo?: string;\n  school_records_photo?: string;\n}\n\ninterface IResponsibleDTO\n  extends Omit<IPerson, 'rg_photo' | 'cpf_photo' | 'residencial_proof_photo'> {\n  kinship: string;\n}\n\ninterface IResponsiblePhotosDTO {\n  rg_photo?: string;\n  cpf_photo?: string;\n  residencial_proof_photo?: string;\n}\n\ninterface IFormData {\n  config: IConfigDTO;\n  grade: IGradeDTO;\n  student: IStudentDTO;\n  student_photos: IStudentPhotosDTO;\n  financial_responsible: IResponsibleDTO;\n  financial_photos: IResponsiblePhotosDTO;\n  supportive_responsible: IResponsibleDTO;\n  supportive_photos: IResponsiblePhotosDTO;\n}\n\nconst NewEnrollment: React.FC = () => {\n  const formRef = useRef<FormHandles>(null);\n\n  const history = useHistory();\n\n  const [reuseAddress, setReuseAddress] = useState(false);\n  const [gradeOptions, setGradeOptions] = useState([] as IOption[]);\n  const [showOriginSchool, setShowOriginSchool] = useState(false);\n  const [showHealthPlan, setShowHealthPlan] = useState(false);\n  const [showMedicationAlergy, setShowMedicationAlergy] = useState(false);\n  const [showFoodAlergy, setShowFoodAlergy] = useState(false);\n  const [showHealthProblem, setShowHealthProblem] = useState(false);\n  const [showSpecialNecessities, setShowSpecialNecessities] = useState(false);\n  const [financialVerified, setFinancialVerified] = useState(false);\n  const [financialExists, setFinancialExists] = useState(false);\n  const [financialFromDB, setFinancialFromDB] = useState({} as IPerson);\n  const [supportiveVerified, setSupportiveVerified] = useState(false);\n  const [supportiveExists, setSupportiveExists] = useState(false);\n  const [supportiveFromDB, setSupportiveFromDB] = useState({} as IPerson);\n  const [loadingPage, setLoadingPage] = useState(false);\n  const [loadingVerify, setLoadingVerify] = useState(false);\n  const [loadingSubmit, setLoadingSubmit] = useState(false);\n\n  const submitForm = useCallback(\n    async (data: IFormData) => {\n      if (loadingSubmit) {\n        return;\n      }\n\n      let actualPrefixVerification = '';\n\n      if (!financialVerified || !supportiveVerified) {\n        toast.error(\n          'É preciso que os dois responsáveis sejam cadastrados ou resgatados do sitema!',\n        );\n        return;\n      }\n\n      const gradeField = formRef.current?.getFieldValue('grade.id');\n\n      if (!gradeField) {\n        toast.error('É preciso que uma turma seja selecionada!');\n        return;\n      }\n\n      setLoadingSubmit(true);\n\n      try {\n        formRef.current?.setErrors({});\n\n        const {\n          config,\n          financial_photos,\n          financial_responsible,\n          supportive_photos,\n          supportive_responsible,\n          student_photos,\n          student,\n          grade,\n        } = data;\n\n        financial_responsible.income_tax =\n          config.financial_income_tax === 'yes';\n\n        student.ease_relating = config.student_ease_relating === 'yes';\n\n        if (!financialExists) {\n          actualPrefixVerification = 'financial_responsible';\n\n          await responsibleSchema.validate(financial_responsible, {\n            abortEarly: false,\n          });\n        }\n\n        if (!supportiveExists) {\n          actualPrefixVerification = 'supportive_responsible';\n\n          await responsibleSchema.validate(supportive_responsible, {\n            abortEarly: false,\n          });\n        }\n\n        actualPrefixVerification = 'student';\n\n        await studentSchema.validate(student, {\n          abortEarly: false,\n        });\n\n        const response = await api.post('/enrollments', {\n          grade,\n          student,\n          financial_responsible,\n          financial_responsible_id: financialFromDB.id,\n          supportive_responsible,\n          supportive_responsible_id: supportiveFromDB.id,\n        });\n\n        const { financial_id, supportive_id, student_id } = response.data;\n\n        if (financial_photos) {\n          const financialPhotos = new FormData();\n\n          if (financial_photos.rg_photo) {\n            financialPhotos.append('rg_photo', financial_photos.rg_photo);\n          }\n\n          if (financial_photos.cpf_photo) {\n            financialPhotos.append('cpf_photo', financial_photos.cpf_photo);\n          }\n\n          if (financial_photos.residencial_proof_photo) {\n            financialPhotos.append(\n              'residencial_proof_photo',\n              financial_photos.residencial_proof_photo,\n            );\n          }\n\n          await api.patch(`/persons/photos/${financial_id}`, financialPhotos);\n        }\n\n        if (supportive_photos) {\n          const supportivePhotos = new FormData();\n\n          if (supportive_photos.rg_photo) {\n            supportivePhotos.append('rg_photo', supportive_photos.rg_photo);\n          }\n\n          if (supportive_photos.cpf_photo) {\n            supportivePhotos.append('cpf_photo', supportive_photos.cpf_photo);\n          }\n\n          if (reuseAddress && financial_photos.residencial_proof_photo) {\n            supportivePhotos.append(\n              'residencial_proof_photo',\n              financial_photos.residencial_proof_photo,\n            );\n          } else if (supportive_photos.residencial_proof_photo) {\n            supportivePhotos.append(\n              'residencial_proof_photo',\n              supportive_photos.residencial_proof_photo,\n            );\n          }\n\n          await api.patch(`/persons/photos/${supportive_id}`, supportivePhotos);\n        }\n\n        if (student_photos) {\n          const studentPhotos = new FormData();\n\n          if (student_photos.birth_certificate_photo) {\n            studentPhotos.append(\n              'birth_certificate_photo',\n              student_photos.birth_certificate_photo,\n            );\n          }\n\n          if (student_photos.health_plan_photo) {\n            studentPhotos.append(\n              'health_plan_photo',\n              student_photos.health_plan_photo,\n            );\n          }\n\n          if (student_photos.monthly_declaration_photo) {\n            studentPhotos.append(\n              'monthly_declaration_photo',\n              student_photos.monthly_declaration_photo,\n            );\n          }\n\n          if (student_photos.school_records_photo) {\n            studentPhotos.append(\n              'school_records_photo',\n              student_photos.school_records_photo,\n            );\n          }\n\n          if (student_photos.transfer_declaration_photo) {\n            studentPhotos.append(\n              'transfer_declaration_photo',\n              student_photos.transfer_declaration_photo,\n            );\n          }\n\n          if (student_photos.vaccine_card_photo) {\n            studentPhotos.append(\n              'vaccine_card_photo',\n              student_photos.vaccine_card_photo,\n            );\n          }\n\n          await api.patch(`/students/photos/${student_id}`, studentPhotos);\n        }\n\n        toast.success('Solicitação de matrícula enviada com sucesso!');\n\n        history.push('dashboard');\n      } catch (err) {\n        if (err instanceof YupValidationError) {\n          err.inner.forEach(error => {\n            error.path = `${actualPrefixVerification}.${error.path}`;\n          });\n\n          const errors = getValidationErrors(err);\n\n          formRef.current?.setErrors(errors);\n\n          toast.error(`Oops, alguns dados não foram preenchidos corretamente!`);\n\n          return;\n        }\n\n        if (err.response) {\n          toast.error(\n            `Erro ao solicitar matrícula: ${err.response.data.message}`,\n          );\n        } else {\n          toast.error(\n            'Erro interno do servidor! Por favor, tente novamente mais tarde.',\n          );\n        }\n      } finally {\n        setLoadingSubmit(false);\n      }\n    },\n    [\n      financialExists,\n      supportiveExists,\n      financialVerified,\n      supportiveVerified,\n      financialFromDB.id,\n      supportiveFromDB.id,\n      loadingSubmit,\n      history,\n      reuseAddress,\n    ],\n  );\n\n  const handleSearchAddressByCep = useCallback((cep, responsible_type) => {\n    cepPromise(cep).then(result => {\n      const { street, neighborhood, city } = result;\n\n      if (responsible_type === 'financial') {\n        formRef.current?.setFieldValue(\n          'financial_responsible.address_street',\n          street,\n        );\n        formRef.current?.setFieldValue(\n          'financial_responsible.address_neighborhood',\n          neighborhood,\n        );\n        formRef.current?.setFieldValue(\n          'financial_responsible.address_city',\n          city,\n        );\n      } else {\n        formRef.current?.setFieldValue(\n          'supportive_responsible.address_street',\n          street,\n        );\n        formRef.current?.setFieldValue(\n          'supportive_responsible.address_neighborhood',\n          neighborhood,\n        );\n        formRef.current?.setFieldValue(\n          'supportive_responsible.address_city',\n          city,\n        );\n      }\n    });\n  }, []);\n\n  const handleVerifyIfResponsibleExists = useCallback(\n    async (responsible_type: 'financial' | 'supportive') => {\n      if (loadingVerify) {\n        return;\n      }\n\n      setLoadingVerify(true);\n\n      try {\n        const cpf = formRef.current?.getFieldValue(\n          `config.verify_${responsible_type}_cpf`,\n        );\n\n        const response = await api.get(`/persons/${cpf}`);\n\n        const person = response.data as IPerson;\n\n        if (responsible_type === 'financial') {\n          setFinancialVerified(true);\n\n          if (person) {\n            setFinancialExists(true);\n            setFinancialFromDB(person);\n            toast.success(\n              'Os dados foram resgatados com sucesso! Preencha apenas o campo de parentesco.',\n            );\n          } else {\n            toast.info(\n              'Responsável não encontrado! Por favor, preencha as informações de cadastro.',\n            );\n            formRef.current?.setFieldValue('financial_responsible.cpf', cpf);\n          }\n        } else {\n          setSupportiveVerified(true);\n\n          if (person) {\n            setSupportiveExists(true);\n            setSupportiveFromDB(person);\n            toast.success(\n              'Os dados foram resgatados com sucesso! Preencha apenas o campo de parentesco.',\n            );\n          } else {\n            toast.info(\n              'Responsável não encontrado! Por favor, preencha as informações de cadastro.',\n            );\n            formRef.current?.setFieldValue('supportive_responsible.cpf', cpf);\n          }\n        }\n      } catch {\n        toast.error(\n          'Erro ao tentar buscar responsável! Por favor, preencha o campo de busca.',\n        );\n      } finally {\n        setLoadingVerify(false);\n      }\n    },\n    [formRef, loadingVerify],\n  );\n\n  useEffect(() => {\n    if (reuseAddress) {\n      const street = formRef.current?.getFieldValue(\n        'financial_responsible.address_street',\n      );\n      const number = formRef.current?.getFieldValue(\n        'financial_responsible.address_number',\n      );\n      const complement = formRef.current?.getFieldValue(\n        'financial_responsible.address_complement',\n      );\n      const neighborhood = formRef.current?.getFieldValue(\n        'financial_responsible.address_neighborhood',\n      );\n      const city = formRef.current?.getFieldValue(\n        'financial_responsible.address_city',\n      );\n      const cep = formRef.current?.getFieldValue(\n        'financial_responsible.address_cep',\n      );\n\n      formRef.current?.setFieldValue(\n        'supportive_responsible.address_street',\n        street,\n      );\n      formRef.current?.setFieldValue(\n        'supportive_responsible.address_number',\n        number,\n      );\n      formRef.current?.setFieldValue(\n        'supportive_responsible.address_complement',\n        complement,\n      );\n      formRef.current?.setFieldValue(\n        'supportive_responsible.address_neighborhood',\n        neighborhood,\n      );\n      formRef.current?.setFieldValue(\n        'supportive_responsible.address_city',\n        city,\n      );\n      formRef.current?.setFieldValue('supportive_responsible.address_cep', cep);\n    } else {\n      formRef.current?.setFieldValue(\n        'supportive_responsible.address_street',\n        '',\n      );\n      formRef.current?.setFieldValue(\n        'supportive_responsible.address_number',\n        '',\n      );\n      formRef.current?.setFieldValue(\n        'supportive_responsible.address_complement',\n        '',\n      );\n      formRef.current?.setFieldValue(\n        'supportive_responsible.address_neighborhood',\n        '',\n      );\n      formRef.current?.setFieldValue('supportive_responsible.address_city', '');\n      formRef.current?.setFieldValue('supportive_responsible.address_cep', '');\n    }\n  }, [reuseAddress]);\n\n  useEffect(() => {\n    setLoadingPage(true);\n\n    api\n      .get('/grades')\n      .then(response => {\n        const grades = [] as IOption[];\n\n        const gradesFromApi = response.data as IGrade[];\n\n        grades.push({ value: '', label: 'Turma desejada' });\n\n        gradesFromApi.forEach(grade => {\n          grades.push({ value: grade.id, label: grade.name });\n        });\n\n        setGradeOptions(grades);\n      })\n      .catch(() => {\n        toast.error(\n          'Erro ao carregar informações do servidor! Tente novamente mais tarde.',\n        );\n      })\n      .finally(() => {\n        setLoadingPage(false);\n      });\n  }, []);\n\n  useEffect(() => {\n    if (financialVerified) {\n      const cpf = formRef.current?.getFieldValue(`config.verify_financial_cpf`);\n\n      formRef.current?.setFieldValue('financial_responsible.cpf', cpf);\n    }\n  }, [financialVerified]);\n\n  useEffect(() => {\n    if (supportiveVerified) {\n      const cpf = formRef.current?.getFieldValue(\n        `config.verify_supportive_cpf`,\n      );\n\n      formRef.current?.setFieldValue('supportive_responsible.cpf', cpf);\n    }\n  }, [supportiveVerified]);\n\n  return (\n    <Container>\n      <Loading show={loadingPage} />\n\n      <Header />\n\n      <Aside />\n\n      <Main>\n        <Title title=\"Nova matrícula\" />\n\n        <Form ref={formRef} onSubmit={submitForm}>\n          <FormGroup>\n            <Heading title=\"Dados do responsável financeiro\" />\n\n            <InputGroup>\n              <Input\n                name=\"config.verify_financial_cpf\"\n                icon={FiClipboard}\n                placeholder=\"Digite o CPF para verificar se já está cadastrado\"\n              />\n\n              <div>\n                <Button\n                  type=\"button\"\n                  onClick={() => handleVerifyIfResponsibleExists('financial')}\n                  loading={loadingVerify}\n                >\n                  Verificar registro\n                </Button>\n              </div>\n            </InputGroup>\n\n            {financialVerified && financialExists && (\n              <InputGroup>\n                <Input\n                  name=\"financial_responsible.name\"\n                  placeholder=\"Nome\"\n                  icon={FiUser}\n                  value={financialFromDB.name}\n                  readOnly\n                />\n\n                <Input\n                  name=\"financial_responsible.kinship\"\n                  placeholder=\"Parentesco com o aluno\"\n                  icon={FiUsers}\n                />\n              </InputGroup>\n            )}\n\n            {financialVerified && !financialExists && (\n              <>\n                <InputGroup>\n                  <Input\n                    name=\"financial_responsible.name\"\n                    placeholder=\"Nome\"\n                    icon={FiUser}\n                  />\n\n                  <Input\n                    name=\"financial_responsible.kinship\"\n                    placeholder=\"Parentesco com o aluno\"\n                    icon={FiUsers}\n                  />\n                </InputGroup>\n\n                <InputGroup>\n                  <Input\n                    name=\"financial_responsible.rg\"\n                    placeholder=\"RG\"\n                    icon={FiClipboard}\n                  />\n\n                  <Input\n                    name=\"financial_responsible.cpf\"\n                    placeholder=\"CPF\"\n                    icon={FiClipboard}\n                  />\n                </InputGroup>\n\n                <InputGroup>\n                  <Input\n                    name=\"financial_responsible.nacionality\"\n                    placeholder=\"Nacionalidade\"\n                    icon={FiFlag}\n                  />\n\n                  <Input\n                    name=\"financial_responsible.civil_state\"\n                    placeholder=\"Estado civil\"\n                    icon={FiHeart}\n                  />\n                </InputGroup>\n\n                <InputGroup>\n                  <Select\n                    name=\"financial_responsible.education_level\"\n                    icon={FiInfo}\n                    optionsArray={educationLevelOptions}\n                  />\n\n                  <Input\n                    name=\"financial_responsible.profission\"\n                    placeholder=\"Profissão\"\n                    icon={FiBriefcase}\n                  />\n                </InputGroup>\n\n                <InputGroup>\n                  <Input\n                    name=\"financial_responsible.workplace\"\n                    placeholder=\"Local de trabalho\"\n                    icon={FiBriefcase}\n                  />\n\n                  <Input\n                    name=\"financial_responsible.commercial_phone\"\n                    placeholder=\"Telefone comercial\"\n                    icon={FiPhone}\n                  />\n                </InputGroup>\n\n                <InputGroup>\n                  <Input\n                    name=\"financial_responsible.residencial_phone\"\n                    placeholder=\"Telefone residencial\"\n                    icon={FiPhone}\n                  />\n\n                  <Input\n                    name=\"financial_responsible.personal_phone\"\n                    placeholder=\"Telefone pessoal\"\n                    icon={FiSmartphone}\n                  />\n                </InputGroup>\n\n                <InputGroup>\n                  <Input\n                    name=\"financial_responsible.address_cep\"\n                    placeholder=\"CEP\"\n                    icon={FiMapPin}\n                    onBlur={e =>\n                      handleSearchAddressByCep(e.target.value, 'financial')\n                    }\n                  />\n\n                  <Input\n                    name=\"financial_responsible.address_street\"\n                    placeholder=\"Rua\"\n                    icon={FiMapPin}\n                  />\n                </InputGroup>\n\n                <InputGroup>\n                  <Input\n                    type=\"number\"\n                    name=\"financial_responsible.address_number\"\n                    placeholder=\"Número\"\n                    icon={FiMapPin}\n                  />\n\n                  <Input\n                    name=\"financial_responsible.address_complement\"\n                    placeholder=\"Complemento\"\n                    icon={FiMapPin}\n                  />\n                </InputGroup>\n\n                <InputGroup>\n                  <Input\n                    name=\"financial_responsible.address_neighborhood\"\n                    placeholder=\"Bairro\"\n                    icon={FiMapPin}\n                  />\n\n                  <Input\n                    name=\"financial_responsible.address_city\"\n                    placeholder=\"Cidade\"\n                    icon={FiMapPin}\n                  />\n                </InputGroup>\n\n                <InputGroup>\n                  <Input\n                    type=\"email\"\n                    name=\"financial_responsible.email\"\n                    placeholder=\"E-mail\"\n                    icon={FiMail}\n                  />\n\n                  <Input\n                    type=\"number\"\n                    name=\"financial_responsible.monthly_income\"\n                    placeholder=\"Renda mensal\"\n                    icon={FiDollarSign}\n                  />\n                </InputGroup>\n\n                <InputGroup>\n                  <Input\n                    type=\"date\"\n                    name=\"financial_responsible.birth_date\"\n                    icon={FiCalendar}\n                    label=\"Data de nascimento\"\n                  />\n                </InputGroup>\n\n                <InputGroup>\n                  <Radio\n                    name=\"config.financial_income_tax\"\n                    label=\"Declara imposto de renda?\"\n                    options={[\n                      { id: 'fit1', label: 'Sim', value: 'yes' },\n                      { id: 'fit2', label: 'Não', value: 'no', default: true },\n                    ]}\n                  />\n                </InputGroup>\n\n                <InputGroup>\n                  <File name=\"financial_photos.rg_photo\" buttonText=\"RG\" />\n                </InputGroup>\n\n                <InputGroup>\n                  <File name=\"financial_photos.cpf_photo\" buttonText=\"CPF\" />\n                </InputGroup>\n\n                <InputGroup>\n                  <File\n                    name=\"financial_photos.residencial_proof_photo\"\n                    buttonText=\"Comprovante de endereço\"\n                  />\n                </InputGroup>\n              </>\n            )}\n          </FormGroup>\n\n          <FormGroup>\n            <Heading title=\"Dados do responsável solidário\" />\n\n            <InputGroup>\n              <Input\n                name=\"config.verify_supportive_cpf\"\n                icon={FiClipboard}\n                placeholder=\"Digite o CPF para verificar se já está cadastrado\"\n              />\n\n              <div>\n                <Button\n                  type=\"button\"\n                  onClick={() => handleVerifyIfResponsibleExists('supportive')}\n                  loading={loadingVerify}\n                >\n                  Verificar registro\n                </Button>\n              </div>\n            </InputGroup>\n\n            {supportiveVerified && supportiveExists && (\n              <InputGroup>\n                <Input\n                  name=\"supportive_responsible.name\"\n                  placeholder=\"Nome\"\n                  icon={FiUser}\n                  value={supportiveFromDB.name}\n                  readOnly\n                />\n\n                <Input\n                  name=\"supportive_responsible.kinship\"\n                  placeholder=\"Parentesco com o aluno\"\n                  icon={FiUsers}\n                />\n              </InputGroup>\n            )}\n\n            {supportiveVerified && !supportiveExists && (\n              <>\n                <InputGroup>\n                  <Input\n                    name=\"supportive_responsible.name\"\n                    placeholder=\"Nome\"\n                    icon={FiUser}\n                  />\n\n                  <Input\n                    name=\"supportive_responsible.kinship\"\n                    placeholder=\"Parentesco com o aluno\"\n                    icon={FiUsers}\n                  />\n                </InputGroup>\n\n                <InputGroup>\n                  <Input\n                    name=\"supportive_responsible.rg\"\n                    placeholder=\"RG\"\n                    icon={FiClipboard}\n                  />\n\n                  <Input\n                    name=\"supportive_responsible.cpf\"\n                    placeholder=\"CPF\"\n                    icon={FiClipboard}\n                  />\n                </InputGroup>\n\n                <InputGroup>\n                  <Input\n                    name=\"supportive_responsible.nacionality\"\n                    placeholder=\"Nacionalidade\"\n                    icon={FiFlag}\n                  />\n\n                  <Input\n                    name=\"supportive_responsible.civil_state\"\n                    placeholder=\"Estado civil\"\n                    icon={FiHeart}\n                  />\n                </InputGroup>\n\n                <InputGroup>\n                  <Select\n                    name=\"supportive_responsible.education_level\"\n                    icon={FiInfo}\n                    optionsArray={educationLevelOptions}\n                  />\n\n                  <Input\n                    name=\"supportive_responsible.profission\"\n                    placeholder=\"Profissão\"\n                    icon={FiBriefcase}\n                  />\n                </InputGroup>\n\n                <InputGroup>\n                  <Input\n                    name=\"supportive_responsible.workplace\"\n                    placeholder=\"Local de trabalho\"\n                    icon={FiBriefcase}\n                  />\n\n                  <Input\n                    name=\"supportive_responsible.commercial_phone\"\n                    placeholder=\"Telefone comercial\"\n                    icon={FiPhone}\n                  />\n                </InputGroup>\n\n                <InputGroup>\n                  <Input\n                    name=\"supportive_responsible.residencial_phone\"\n                    placeholder=\"Telefone residencial\"\n                    icon={FiPhone}\n                  />\n\n                  <Input\n                    name=\"supportive_responsible.personal_phone\"\n                    placeholder=\"Telefone pessoal\"\n                    icon={FiSmartphone}\n                  />\n                </InputGroup>\n\n                <InputGroup>\n                  <Checkbox\n                    name=\"config.reaproove_address\"\n                    label=\"Utilizar o mesmo endereço do responsável financeiro?\"\n                    onChange={e => setReuseAddress(e.target.checked)}\n                  />\n                </InputGroup>\n\n                <InputGroup>\n                  <Input\n                    name=\"supportive_responsible.address_cep\"\n                    placeholder=\"CEP\"\n                    icon={FiMapPin}\n                    onBlur={e =>\n                      handleSearchAddressByCep(e.target.value, 'supportive')\n                    }\n                  />\n\n                  <Input\n                    name=\"supportive_responsible.address_street\"\n                    placeholder=\"Rua\"\n                    icon={FiMapPin}\n                  />\n                </InputGroup>\n\n                <InputGroup>\n                  <Input\n                    type=\"number\"\n                    name=\"supportive_responsible.address_number\"\n                    placeholder=\"Número\"\n                    icon={FiMapPin}\n                  />\n\n                  <Input\n                    name=\"supportive_responsible.address_complement\"\n                    placeholder=\"Complemento\"\n                    icon={FiMapPin}\n                  />\n                </InputGroup>\n\n                <InputGroup>\n                  <Input\n                    name=\"supportive_responsible.address_neighborhood\"\n                    placeholder=\"Bairro\"\n                    icon={FiMapPin}\n                  />\n\n                  <Input\n                    name=\"supportive_responsible.address_city\"\n                    placeholder=\"Cidade\"\n                    icon={FiMapPin}\n                  />\n                </InputGroup>\n\n                <InputGroup>\n                  <Input\n                    type=\"email\"\n                    name=\"supportive_responsible.email\"\n                    placeholder=\"E-mail\"\n                    icon={FiMail}\n                  />\n\n                  <Input\n                    type=\"number\"\n                    name=\"supportive_responsible.monthly_income\"\n                    placeholder=\"Renda mensal\"\n                    icon={FiDollarSign}\n                  />\n                </InputGroup>\n\n                <InputGroup>\n                  <Input\n                    type=\"date\"\n                    name=\"supportive_responsible.birth_date\"\n                    icon={FiCalendar}\n                    label=\"Data de nascimento\"\n                  />\n                </InputGroup>\n\n                <InputGroup>\n                  <File name=\"supportive_photos.rg_photo\" buttonText=\"RG\" />\n                </InputGroup>\n\n                <InputGroup>\n                  <File name=\"supportive_photos.cpf_photo\" buttonText=\"CPF\" />\n                </InputGroup>\n\n                {!reuseAddress && (\n                  <InputGroup>\n                    <File\n                      name=\"supportive_photos.residencial_proof_photo\"\n                      buttonText=\"Comprovante de endereço\"\n                    />\n                  </InputGroup>\n                )}\n              </>\n            )}\n          </FormGroup>\n\n          <FormGroup>\n            <Heading title=\"Dados do aluno\" />\n\n            <InputGroup>\n              <Input name=\"student.name\" placeholder=\"Nome\" icon={FiUser} />\n            </InputGroup>\n\n            <InputGroup>\n              <Input\n                name=\"student.nacionality\"\n                placeholder=\"Nacionalidade\"\n                icon={FiFlag}\n              />\n            </InputGroup>\n\n            <InputGroup>\n              <Input\n                name=\"student.birth_city\"\n                placeholder=\"Cidade natal\"\n                icon={FiMapPin}\n              />\n\n              <Input\n                name=\"student.birth_state\"\n                placeholder=\"Estado natal\"\n                icon={FiMapPin}\n              />\n            </InputGroup>\n\n            <InputGroup>\n              <Input\n                name=\"student.father_name\"\n                placeholder=\"Nome do pai\"\n                icon={FiUsers}\n              />\n\n              <Input\n                name=\"student.mother_name\"\n                placeholder=\"Nome da mãe\"\n                icon={FiUsers}\n              />\n            </InputGroup>\n\n            <InputGroup>\n              <Select\n                name=\"student.gender\"\n                icon={FiInfo}\n                optionsArray={genderOptions}\n              />\n\n              <Select\n                name=\"student.race\"\n                icon={FiInfo}\n                optionsArray={raceOptions}\n              />\n            </InputGroup>\n\n            <InputGroup>\n              <Input\n                type=\"date\"\n                name=\"student.birth_date\"\n                icon={FiCalendar}\n                label=\"Data de nascimento\"\n              />\n\n              <Select\n                name=\"grade.id\"\n                icon={FiSmile}\n                optionsArray={gradeOptions}\n              />\n            </InputGroup>\n\n            <InputGroup>\n              <Radio\n                name=\"config.has_origin_school\"\n                label=\"Selecione uma opção:\"\n                options={[\n                  {\n                    id: 'hos1',\n                    label: 'Matrícula',\n                    value: 'yes',\n                  },\n                  {\n                    id: 'hos2',\n                    label: 'Rematrícula',\n                    value: 'no',\n                    default: true,\n                  },\n                ]}\n                change={value => setShowOriginSchool(value === 'yes')}\n              />\n\n              {showOriginSchool && (\n                <Input\n                  name=\"student.origin_school\"\n                  placeholder=\"Escola de origem\"\n                  icon={FiMapPin}\n                />\n              )}\n            </InputGroup>\n\n            <InputGroup>\n              <Radio\n                name=\"config.has_health_plan\"\n                label=\"Possui algum plano de saúde?\"\n                options={[\n                  { id: 'hhp1', label: 'Sim', value: 'yes' },\n                  { id: 'hhp2', label: 'Não', value: 'no', default: true },\n                ]}\n                change={value => setShowHealthPlan(value === 'yes')}\n              />\n\n              {showHealthPlan && (\n                <Input\n                  name=\"student.health_plan\"\n                  placeholder=\"Qual?\"\n                  icon={FiActivity}\n                />\n              )}\n            </InputGroup>\n\n            <InputGroup>\n              <Radio\n                name=\"config.has_medication_alergy\"\n                label=\"Possui alergia a algum medicamento?\"\n                options={[\n                  { id: 'hma1', label: 'Sim', value: 'yes' },\n                  { id: 'hma2', label: 'Não', value: 'no', default: true },\n                ]}\n                change={value => setShowMedicationAlergy(value === 'yes')}\n              />\n\n              {showMedicationAlergy && (\n                <Input\n                  name=\"student.medication_alergy\"\n                  placeholder=\"Qual?\"\n                  icon={FiActivity}\n                />\n              )}\n            </InputGroup>\n\n            <InputGroup>\n              <Radio\n                name=\"config.has_food_alergy\"\n                label=\"Possui alergia a algum alimento?\"\n                options={[\n                  { id: 'hfa1', label: 'Sim', value: 'yes' },\n                  { id: 'hfa2', label: 'Não', value: 'no', default: true },\n                ]}\n                change={value => setShowFoodAlergy(value === 'yes')}\n              />\n\n              {showFoodAlergy && (\n                <Input\n                  name=\"student.food_alergy\"\n                  placeholder=\"Qual?\"\n                  icon={FiActivity}\n                />\n              )}\n            </InputGroup>\n\n            <InputGroup>\n              <Radio\n                name=\"config.has_health_problem\"\n                label=\"Possui algum problema de saúde?\"\n                options={[\n                  { id: 'hhpp1', label: 'Sim', value: 'yes' },\n                  { id: 'hhpp2', label: 'Não', value: 'no', default: true },\n                ]}\n                change={value => setShowHealthProblem(value === 'yes')}\n              />\n\n              {showHealthProblem && (\n                <Input\n                  name=\"student.health_problem\"\n                  placeholder=\"Qual?\"\n                  icon={FiActivity}\n                />\n              )}\n            </InputGroup>\n\n            <InputGroup>\n              <Radio\n                name=\"config.has_special_necessities\"\n                label=\"Possui alguma necessidade especial?\"\n                options={[\n                  { id: 'hsn1', label: 'Sim', value: 'yes' },\n                  { id: 'hsn2', label: 'Não', value: 'no', default: true },\n                ]}\n                change={value => setShowSpecialNecessities(value === 'yes')}\n              />\n\n              {showSpecialNecessities && (\n                <Input\n                  name=\"student.special_necessities\"\n                  placeholder=\"Qual?\"\n                  icon={FiActivity}\n                />\n              )}\n            </InputGroup>\n\n            <InputGroup>\n              <Radio\n                name=\"config.student_ease_relating\"\n                label=\"Tem facilidade de se relacionar?\"\n                options={[\n                  { id: 'ser1', label: 'Sim', value: 'yes' },\n                  { id: 'ser2', label: 'Não', value: 'no', default: true },\n                ]}\n              />\n            </InputGroup>\n\n            <InputGroup>\n              <File\n                name=\"student_photos.school_records_photo\"\n                buttonText=\"Histórico escolar\"\n              />\n            </InputGroup>\n\n            <InputGroup>\n              <File\n                name=\"student_photos.vaccine_card_photo\"\n                buttonText=\"Cartão de vacina\"\n              />\n            </InputGroup>\n\n            <InputGroup>\n              <File\n                name=\"student_photos.birth_certificate_photo\"\n                buttonText=\"Certidão de nascimento\"\n              />\n            </InputGroup>\n\n            <InputGroup>\n              <File\n                name=\"student_photos.health_plan_photo\"\n                buttonText=\"Cartão do plano de saúde\"\n              />\n            </InputGroup>\n\n            <InputGroup>\n              <File\n                name=\"student_photos.transfer_declaration_photo\"\n                buttonText=\"Declaração de transferência\"\n              />\n            </InputGroup>\n\n            <InputGroup>\n              <File\n                name=\"student_photos.monthly_declaration_photo\"\n                buttonText=\"Declaração de quitação de débito da escola anterior\"\n              />\n            </InputGroup>\n          </FormGroup>\n\n          <ButtonGroup>\n            <Button type=\"submit\" loading={loadingSubmit}>\n              Enviar\n              <FiArrowRight size={20} />\n            </Button>\n          </ButtonGroup>\n        </Form>\n      </Main>\n    </Container>\n  );\n};\n\nexport default NewEnrollment;\n"]},"metadata":{},"sourceType":"module"}