{"ast":null,"code":"import _slicedToArray from\"/home/ondaniel/santiago/sisgie/new_frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import{toast}from'react-toastify';import{Link}from'react-router-dom';import{Container,GradesContainer}from'./styles';import Loading from'../Loading';import api from'../../services/api';var GradesList=function GradesList(_ref){var toPageAfterSelect=_ref.toPageAfterSelect;var _useState=useState(true),_useState2=_slicedToArray(_useState,2),loadingPage=_useState2[0],setLoadingPage=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),grades=_useState4[0],setGrades=_useState4[1];useEffect(function(){api.get('/grades').then(function(response){var gradesFromApi=response.data;setGrades(gradesFromApi);}).catch(function(){toast.error('Erro ao carregar dados doservidor! Por favor, tente novamente mais tarde.');}).finally(function(){setLoadingPage(false);});},[]);return/*#__PURE__*/React.createElement(Container,null,/*#__PURE__*/React.createElement(Loading,{show:loadingPage}),/*#__PURE__*/React.createElement(GradesContainer,null,grades.map(function(grade){return/*#__PURE__*/React.createElement(Link,{to:\"\".concat(toPageAfterSelect,\"/\").concat(grade.id),key:grade.id},\"\".concat(grade.name,\" - \").concat(grade.year));})));};export default GradesList;","map":{"version":3,"sources":["/home/ondaniel/santiago/sisgie/new_frontend/src/components/GradesList/index.tsx"],"names":["React","useEffect","useState","toast","Link","Container","GradesContainer","Loading","api","GradesList","toPageAfterSelect","loadingPage","setLoadingPage","grades","setGrades","get","then","response","gradesFromApi","data","catch","error","finally","map","grade","id","name","year"],"mappings":"8HAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OAASC,KAAT,KAAsB,gBAAtB,CACA,OAASC,IAAT,KAAqB,kBAArB,CAEA,OAASC,SAAT,CAAoBC,eAApB,KAA2C,UAA3C,CACA,MAAOC,CAAAA,OAAP,KAAoB,YAApB,CAEA,MAAOC,CAAAA,GAAP,KAAgB,oBAAhB,CAMA,GAAMC,CAAAA,UAA4B,CAAG,QAA/BA,CAAAA,UAA+B,MAA2B,IAAxBC,CAAAA,iBAAwB,MAAxBA,iBAAwB,eACxBR,QAAQ,CAAC,IAAD,CADgB,wCACvDS,WADuD,eAC1CC,cAD0C,8BAElCV,QAAQ,CAAW,EAAX,CAF0B,yCAEvDW,MAFuD,eAE/CC,SAF+C,eAI9Db,SAAS,CAAC,UAAM,CACdO,GAAG,CACAO,GADH,CACO,SADP,EAEGC,IAFH,CAEQ,SAAAC,QAAQ,CAAI,CAChB,GAAMC,CAAAA,aAAa,CAAGD,QAAQ,CAACE,IAA/B,CAEAL,SAAS,CAACI,aAAD,CAAT,CACD,CANH,EAOGE,KAPH,CAOS,UAAM,CACXjB,KAAK,CAACkB,KAAN,CACE,2EADF,EAGD,CAXH,EAYGC,OAZH,CAYW,UAAM,CACbV,cAAc,CAAC,KAAD,CAAd,CACD,CAdH,EAeD,CAhBQ,CAgBN,EAhBM,CAAT,CAkBA,mBACE,oBAAC,SAAD,mBACE,oBAAC,OAAD,EAAS,IAAI,CAAED,WAAf,EADF,cAGE,oBAAC,eAAD,MACGE,MAAM,CAACU,GAAP,CAAW,SAAAC,KAAK,qBACf,oBAAC,IAAD,EAAM,EAAE,WAAKd,iBAAL,aAA0Bc,KAAK,CAACC,EAAhC,CAAR,CAA8C,GAAG,CAAED,KAAK,CAACC,EAAzD,YACMD,KAAK,CAACE,IADZ,eACsBF,KAAK,CAACG,IAD5B,EADe,EAAhB,CADH,CAHF,CADF,CAaD,CAnCD,CAqCA,cAAelB,CAAAA,UAAf","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { toast } from 'react-toastify';\nimport { Link } from 'react-router-dom';\n\nimport { Container, GradesContainer } from './styles';\nimport Loading from '../Loading';\nimport IGrade from '../../entities/IGrade';\nimport api from '../../services/api';\n\ninterface IProps {\n  toPageAfterSelect: string;\n}\n\nconst GradesList: React.FC<IProps> = ({ toPageAfterSelect }) => {\n  const [loadingPage, setLoadingPage] = useState(true);\n  const [grades, setGrades] = useState<IGrade[]>([]);\n\n  useEffect(() => {\n    api\n      .get('/grades')\n      .then(response => {\n        const gradesFromApi = response.data as IGrade[];\n\n        setGrades(gradesFromApi);\n      })\n      .catch(() => {\n        toast.error(\n          'Erro ao carregar dados doservidor! Por favor, tente novamente mais tarde.',\n        );\n      })\n      .finally(() => {\n        setLoadingPage(false);\n      });\n  }, []);\n\n  return (\n    <Container>\n      <Loading show={loadingPage} />\n\n      <GradesContainer>\n        {grades.map(grade => (\n          <Link to={`${toPageAfterSelect}/${grade.id}`} key={grade.id}>\n            {`${grade.name} - ${grade.year}`}\n          </Link>\n        ))}\n      </GradesContainer>\n    </Container>\n  );\n};\n\nexport default GradesList;\n"]},"metadata":{},"sourceType":"module"}