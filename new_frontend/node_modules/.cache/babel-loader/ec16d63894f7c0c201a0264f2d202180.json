{"ast":null,"code":"import _regeneratorRuntime from\"/home/ondaniel/santiago/sisgie/new_frontend/node_modules/@babel/runtime/regenerator\";import _toConsumableArray from\"/home/ondaniel/santiago/sisgie/new_frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _asyncToGenerator from\"/home/ondaniel/santiago/sisgie/new_frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/ondaniel/santiago/sisgie/new_frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useCallback,useEffect,useRef}from'react';import{Form}from'@unform/web';import{FiInfo,FiCalendar,FiDollarSign,FiEdit2}from'react-icons/fi';import{ValidationError as YupValidationError}from'yup';import{toast}from'react-toastify';import{Container,Main,ButtonGroup,DoubleColumn}from'./styles';import Loading from'../../components/Loading';import Header from'../../components/Header';import Aside from'../../components/Aside';import Title from'../../components/Title';import Input from'../../components/Input';import Button from'../../components/Button';import GradesList from'../../components/List';import api from'../../services/api';import gradeSchema from'../../schemas/gradeSchema';import getValidationErrors from'../../utils/getValidationErrors';var Users=function Users(){var formRef=useRef(null);var _useState=useState([]),_useState2=_slicedToArray(_useState,2),grades=_useState2[0],setGrades=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),gradeId=_useState4[0],setGradeId=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),loadingPage=_useState6[0],setLoadingPage=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),loadingSubmit=_useState8[0],setLoadingSubmit=_useState8[1];useEffect(function(){setLoadingPage(true);api.get('/grades').then(function(response){return setGrades(response.data);}).catch(function(){toast.error('Erro ao carregar turmas! Por favor, tente novamente mais tarde.');}).finally(function(){setLoadingPage(false);});},[]);var handleGetGrade=useCallback(function(data){var _formRef$current,_formRef$current2;setGradeId(data.id);(_formRef$current=formRef.current)===null||_formRef$current===void 0?void 0:_formRef$current.setErrors({});(_formRef$current2=formRef.current)===null||_formRef$current2===void 0?void 0:_formRef$current2.setData(data);},[]);var handleUngetGrade=useCallback(function(){var _formRef$current3,_formRef$current4;setGradeId('');(_formRef$current3=formRef.current)===null||_formRef$current3===void 0?void 0:_formRef$current3.setErrors({});(_formRef$current4=formRef.current)===null||_formRef$current4===void 0?void 0:_formRef$current4.reset();},[]);var handleAddGrade=useCallback(/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(data,_ref){var reset,_formRef$current5,response,_formRef$current6,errors;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:reset=_ref.reset;if(!loadingSubmit){_context.next=3;break;}return _context.abrupt(\"return\");case 3:setLoadingSubmit(true);_context.prev=4;(_formRef$current5=formRef.current)===null||_formRef$current5===void 0?void 0:_formRef$current5.setErrors({});_context.next=8;return gradeSchema.validate(data,{abortEarly:false});case 8:_context.next=10;return api.post('/grades',data);case 10:response=_context.sent;setGrades([].concat(_toConsumableArray(grades),[response.data]));reset();toast.success('Turma criada com sucesso!');_context.next=23;break;case 16:_context.prev=16;_context.t0=_context[\"catch\"](4);if(!(_context.t0 instanceof YupValidationError)){_context.next=22;break;}errors=getValidationErrors(_context.t0);(_formRef$current6=formRef.current)===null||_formRef$current6===void 0?void 0:_formRef$current6.setErrors(errors);return _context.abrupt(\"return\");case 22:if(_context.t0.response){toast.error(\"Erro ao criar turma: \".concat(_context.t0.response.data.message));}else{toast.error('Erro interno do servidor! Por favor, tente novamente mais tarde.');}case 23:_context.prev=23;setLoadingSubmit(false);return _context.finish(23);case 26:case\"end\":return _context.stop();}}},_callee,null,[[4,16,23,26]]);}));return function(_x,_x2){return _ref2.apply(this,arguments);};}(),[grades,loadingSubmit]);var handleUpdateGrade=useCallback(/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(data,_ref3){var reset,_formRef$current7,response,gradesWithoutEdited,_formRef$current8,errors;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:reset=_ref3.reset;if(!loadingSubmit){_context2.next=3;break;}return _context2.abrupt(\"return\");case 3:setLoadingSubmit(true);_context2.prev=4;(_formRef$current7=formRef.current)===null||_formRef$current7===void 0?void 0:_formRef$current7.setErrors({});_context2.next=8;return gradeSchema.validate(data,{abortEarly:false});case 8:_context2.next=10;return api.put(\"/grades/\".concat(gradeId),data);case 10:response=_context2.sent;gradesWithoutEdited=grades.filter(function(grade){return grade.id!==gradeId;});setGrades([].concat(_toConsumableArray(gradesWithoutEdited),[response.data]));setGradeId('');reset();toast.success('Turma atualizada com sucesso!');_context2.next=25;break;case 18:_context2.prev=18;_context2.t0=_context2[\"catch\"](4);if(!(_context2.t0 instanceof YupValidationError)){_context2.next=24;break;}errors=getValidationErrors(_context2.t0);(_formRef$current8=formRef.current)===null||_formRef$current8===void 0?void 0:_formRef$current8.setErrors(errors);return _context2.abrupt(\"return\");case 24:if(_context2.t0.response){toast.error(\"Erro ao atualizar turma: \".concat(_context2.t0.response.data.message));}else{toast.error('Erro interno do servidor! Por favor, tente novamente mais tarde.');}case 25:_context2.prev=25;setLoadingSubmit(false);return _context2.finish(25);case 28:case\"end\":return _context2.stop();}}},_callee2,null,[[4,18,25,28]]);}));return function(_x3,_x4){return _ref4.apply(this,arguments);};}(),[grades,gradeId,loadingSubmit]);return/*#__PURE__*/React.createElement(Container,null,/*#__PURE__*/React.createElement(Loading,{show:loadingPage}),/*#__PURE__*/React.createElement(Header,null),/*#__PURE__*/React.createElement(Aside,null),/*#__PURE__*/React.createElement(Main,null,/*#__PURE__*/React.createElement(Title,{title:\"Gerenciar turmas\"}),/*#__PURE__*/React.createElement(DoubleColumn,null,/*#__PURE__*/React.createElement(Form,{ref:formRef,onSubmit:!gradeId?handleAddGrade:handleUpdateGrade},/*#__PURE__*/React.createElement(Input,{placeholder:\"Nome\",name:\"name\",icon:FiInfo}),/*#__PURE__*/React.createElement(Input,{placeholder:\"Ano\",name:\"year\",icon:FiCalendar}),/*#__PURE__*/React.createElement(Input,{placeholder:\"Valor\",name:\"value\",type:\"number\",icon:FiDollarSign}),/*#__PURE__*/React.createElement(ButtonGroup,null,!gradeId?/*#__PURE__*/React.createElement(Button,{type:\"submit\",loading:loadingSubmit},\"Adicionar\"):/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Button,{type:\"submit\",loading:loadingSubmit},\"Atualizar\"),/*#__PURE__*/React.createElement(Button,{type:\"submit\",backgroundColor:\"#f44336\",onClick:handleUngetGrade},\"Cancelar\")))),grades.length>0&&/*#__PURE__*/React.createElement(GradesList,null,grades.map(function(grade){return/*#__PURE__*/React.createElement(\"li\",{key:grade.id},/*#__PURE__*/React.createElement(FiEdit2,{size:20,onClick:function onClick(){return handleGetGrade(grade);}}),/*#__PURE__*/React.createElement(\"span\",null,\"\".concat(grade.name,\" - \").concat(grade.year)));})))));};export default Users;","map":{"version":3,"sources":["/home/ondaniel/santiago/sisgie/new_frontend/src/pages/Grades/index.tsx"],"names":["React","useState","useCallback","useEffect","useRef","Form","FiInfo","FiCalendar","FiDollarSign","FiEdit2","ValidationError","YupValidationError","toast","Container","Main","ButtonGroup","DoubleColumn","Loading","Header","Aside","Title","Input","Button","GradesList","api","gradeSchema","getValidationErrors","Users","formRef","grades","setGrades","gradeId","setGradeId","loadingPage","setLoadingPage","loadingSubmit","setLoadingSubmit","get","then","response","data","catch","error","finally","handleGetGrade","id","current","setErrors","setData","handleUngetGrade","reset","handleAddGrade","validate","abortEarly","post","success","errors","message","handleUpdateGrade","put","gradesWithoutEdited","filter","grade","length","map","name","year"],"mappings":"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","sourcesContent":["import React, { useState, useCallback, useEffect, useRef } from 'react';\nimport { FormHandles } from '@unform/core';\nimport { Form } from '@unform/web';\nimport { FiInfo, FiCalendar, FiDollarSign, FiEdit2 } from 'react-icons/fi';\nimport { ValidationError as YupValidationError } from 'yup';\nimport { toast } from 'react-toastify';\n\nimport { Container, Main, ButtonGroup, DoubleColumn } from './styles';\nimport Loading from '../../components/Loading';\nimport Header from '../../components/Header';\nimport Aside from '../../components/Aside';\nimport Title from '../../components/Title';\nimport Input from '../../components/Input';\nimport Button from '../../components/Button';\nimport GradesList from '../../components/List';\nimport IGrade from '../../entities/IGrade';\nimport api from '../../services/api';\nimport gradeSchema from '../../schemas/gradeSchema';\nimport getValidationErrors from '../../utils/getValidationErrors';\n\nconst Users: React.FC = () => {\n  const formRef = useRef<FormHandles>(null);\n\n  const [grades, setGrades] = useState([] as IGrade[]);\n  const [gradeId, setGradeId] = useState('');\n  const [loadingPage, setLoadingPage] = useState(false);\n  const [loadingSubmit, setLoadingSubmit] = useState(false);\n\n  useEffect(() => {\n    setLoadingPage(true);\n    api\n      .get('/grades')\n      .then(response => setGrades(response.data))\n      .catch(() => {\n        toast.error(\n          'Erro ao carregar turmas! Por favor, tente novamente mais tarde.',\n        );\n      })\n      .finally(() => {\n        setLoadingPage(false);\n      });\n  }, []);\n\n  const handleGetGrade = useCallback((data: IGrade) => {\n    setGradeId(data.id);\n\n    formRef.current?.setErrors({});\n\n    formRef.current?.setData(data);\n  }, []);\n\n  const handleUngetGrade = useCallback(() => {\n    setGradeId('');\n\n    formRef.current?.setErrors({});\n\n    formRef.current?.reset();\n  }, []);\n\n  const handleAddGrade = useCallback(\n    async (data: Omit<IGrade, 'id'>, { reset }) => {\n      if (loadingSubmit) {\n        return;\n      }\n\n      setLoadingSubmit(true);\n\n      try {\n        formRef.current?.setErrors({});\n\n        await gradeSchema.validate(data, {\n          abortEarly: false,\n        });\n\n        const response = await api.post('/grades', data);\n\n        setGrades([...grades, response.data]);\n\n        reset();\n\n        toast.success('Turma criada com sucesso!');\n      } catch (err) {\n        if (err instanceof YupValidationError) {\n          const errors = getValidationErrors(err);\n          formRef.current?.setErrors(errors);\n          return;\n        }\n\n        if (err.response) {\n          toast.error(`Erro ao criar turma: ${err.response.data.message}`);\n        } else {\n          toast.error(\n            'Erro interno do servidor! Por favor, tente novamente mais tarde.',\n          );\n        }\n      } finally {\n        setLoadingSubmit(false);\n      }\n    },\n    [grades, loadingSubmit],\n  );\n\n  const handleUpdateGrade = useCallback(\n    async (data: IGrade, { reset }) => {\n      if (loadingSubmit) {\n        return;\n      }\n\n      setLoadingSubmit(true);\n\n      try {\n        formRef.current?.setErrors({});\n\n        await gradeSchema.validate(data, {\n          abortEarly: false,\n        });\n\n        const response = await api.put(`/grades/${gradeId}`, data);\n\n        const gradesWithoutEdited = grades.filter(\n          grade => grade.id !== gradeId,\n        );\n\n        setGrades([...gradesWithoutEdited, response.data]);\n\n        setGradeId('');\n\n        reset();\n\n        toast.success('Turma atualizada com sucesso!');\n      } catch (err) {\n        if (err instanceof YupValidationError) {\n          const errors = getValidationErrors(err);\n          formRef.current?.setErrors(errors);\n          return;\n        }\n\n        if (err.response) {\n          toast.error(`Erro ao atualizar turma: ${err.response.data.message}`);\n        } else {\n          toast.error(\n            'Erro interno do servidor! Por favor, tente novamente mais tarde.',\n          );\n        }\n      } finally {\n        setLoadingSubmit(false);\n      }\n    },\n    [grades, gradeId, loadingSubmit],\n  );\n\n  return (\n    <Container>\n      <Loading show={loadingPage} />\n\n      <Header />\n\n      <Aside />\n\n      <Main>\n        <Title title=\"Gerenciar turmas\" />\n\n        <DoubleColumn>\n          <Form\n            ref={formRef}\n            onSubmit={!gradeId ? handleAddGrade : handleUpdateGrade}\n          >\n            <Input placeholder=\"Nome\" name=\"name\" icon={FiInfo} />\n\n            <Input placeholder=\"Ano\" name=\"year\" icon={FiCalendar} />\n\n            <Input\n              placeholder=\"Valor\"\n              name=\"value\"\n              type=\"number\"\n              icon={FiDollarSign}\n            />\n\n            <ButtonGroup>\n              {!gradeId ? (\n                <Button type=\"submit\" loading={loadingSubmit}>\n                  Adicionar\n                </Button>\n              ) : (\n                <>\n                  <Button type=\"submit\" loading={loadingSubmit}>\n                    Atualizar\n                  </Button>\n\n                  <Button\n                    type=\"submit\"\n                    backgroundColor=\"#f44336\"\n                    onClick={handleUngetGrade}\n                  >\n                    Cancelar\n                  </Button>\n                </>\n              )}\n            </ButtonGroup>\n          </Form>\n\n          {grades.length > 0 && (\n            <GradesList>\n              {grades.map(grade => (\n                <li key={grade.id}>\n                  <FiEdit2 size={20} onClick={() => handleGetGrade(grade)} />\n                  {/* <FiTrash\n                    size={20}\n                    onClick={() => handleRemoveGrade(grade.id)}\n                  /> */}\n                  <span>{`${grade.name} - ${grade.year}`}</span>\n                </li>\n              ))}\n            </GradesList>\n          )}\n        </DoubleColumn>\n      </Main>\n    </Container>\n  );\n};\n\nexport default Users;\n"]},"metadata":{},"sourceType":"module"}