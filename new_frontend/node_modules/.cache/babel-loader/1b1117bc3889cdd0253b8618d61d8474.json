{"ast":null,"code":"var _jsxFileName = \"/home/ondaniel/santiago/main/new_frontend/src/components/Aside/index.tsx\";\nimport React, { useEffect, useState } from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport { Container, AnimatedContainer, Mask } from './styles';\nimport { useAuth } from '../../hooks/auth';\nimport { useAside } from '../../hooks/aside';\n\nconst Aside = () => {\n  const {\n    user,\n    signOut\n  } = useAuth();\n  const {\n    show,\n    toggle\n  } = useAside();\n  const history = useHistory();\n  const [links, setLinks] = useState([]);\n  useEffect(() => {\n    if (show && window.innerWidth <= 900) {\n      toggle();\n    }\n  }, [history]); // eslint-disable-line\n\n  useEffect(() => {\n    const allLinks = [{\n      path: '/dashboard',\n      label: 'Dashboard'\n    }, {\n      path: '/new-enrollment',\n      label: 'Nova matrícula'\n    }, {\n      path: '/validate-enrollments/grades',\n      label: 'Validar matrículas'\n    }, {\n      path: '/create-extra-debits/grades',\n      label: 'Criar débitos adicionais'\n    }, {\n      path: '/pay-debits/grades',\n      label: 'Pagar débitos'\n    }, {\n      path: '/receive-payments/grades',\n      label: 'Receber pagamentos'\n    }, {\n      path: '/extra-debits/grades',\n      label: 'Gerenciar débitos adicionais'\n    }, {\n      path: '/profiles',\n      label: 'Gerenciar perfis'\n    }, {\n      path: '/grades',\n      label: 'Gerenciar turmas'\n    }, {\n      path: '/users',\n      label: 'Gerenciar usuários'\n    }];\n    const filteredLinks = allLinks.filter(link => {\n      if (link.permiss) {\n        link.permiss.forEach(permiss => {\n          if (permiss) {\n            return user.profile[permiss];\n          }\n        });\n        return false;\n      }\n\n      return true;\n    });\n    setLinks(filteredLinks);\n  }, [user]);\n  return /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 5\n    }\n  }, show && /*#__PURE__*/React.createElement(AnimatedContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 11\n    }\n  }, links.map(link => /*#__PURE__*/React.createElement(\"li\", {\n    key: link.path,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: link.path,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 17\n    }\n  }, link.label))), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    onClick: signOut,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 15\n    }\n  }, \"Logout\")))), show && window.innerWidth <= 900 && /*#__PURE__*/React.createElement(Mask, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 44\n    }\n  }));\n};\n\nexport default Aside;","map":{"version":3,"sources":["/home/ondaniel/santiago/main/new_frontend/src/components/Aside/index.tsx"],"names":["React","useEffect","useState","Link","useHistory","Container","AnimatedContainer","Mask","useAuth","useAside","Aside","user","signOut","show","toggle","history","links","setLinks","window","innerWidth","allLinks","path","label","filteredLinks","filter","link","permiss","forEach","profile","map"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { Link, useHistory } from 'react-router-dom';\n\nimport { Container, AnimatedContainer, Mask } from './styles';\nimport { useAuth } from '../../hooks/auth';\nimport { useAside } from '../../hooks/aside';\n\ninterface ILink {\n  path: string;\n  label: string;\n  permiss?: (\n    | 'new_enrollment_permiss'\n    | 'validate_enrollment_permiss'\n    | 'pay_debit_permiss'\n    | 'discharge_payment_permiss'\n  )[];\n}\n\nconst Aside: React.FC = () => {\n  const { user, signOut } = useAuth();\n  const { show, toggle } = useAside();\n\n  const history = useHistory();\n\n  const [links, setLinks] = useState([] as ILink[]);\n\n  useEffect(() => {\n    if (show && window.innerWidth <= 900) {\n      toggle();\n    }\n  }, [history]); // eslint-disable-line\n\n  useEffect(() => {\n    const allLinks = [\n      { path: '/dashboard', label: 'Dashboard' },\n      { path: '/new-enrollment', label: 'Nova matrícula' },\n      {\n        path: '/validate-enrollments/grades',\n        label: 'Validar matrículas',\n      },\n      {\n        path: '/create-extra-debits/grades',\n        label: 'Criar débitos adicionais',\n      },\n      {\n        path: '/pay-debits/grades',\n        label: 'Pagar débitos',\n      },\n      {\n        path: '/receive-payments/grades',\n        label: 'Receber pagamentos',\n      },\n      {\n        path: '/extra-debits/grades',\n        label: 'Gerenciar débitos adicionais',\n      },\n      {\n        path: '/profiles',\n        label: 'Gerenciar perfis',\n      },\n      {\n        path: '/grades',\n        label: 'Gerenciar turmas',\n      },\n      {\n        path: '/users',\n        label: 'Gerenciar usuários',\n      },\n    ] as ILink[];\n\n    const filteredLinks = allLinks.filter(link => {\n      if (link.permiss) {\n        link.permiss.forEach(permiss => {\n          if (permiss) {\n            return user.profile[permiss];\n          }\n        });\n\n        return false;\n      }\n\n      return true;\n    });\n\n    setLinks(filteredLinks);\n  }, [user]);\n\n  return (\n    <Container>\n      {show && (\n        <AnimatedContainer>\n          <ul>\n            {links.map(link => (\n              <li key={link.path}>\n                <Link to={link.path}>{link.label}</Link>\n              </li>\n            ))}\n            <li>\n              <button type=\"button\" onClick={signOut}>\n                Logout\n              </button>\n            </li>\n          </ul>\n        </AnimatedContainer>\n      )}\n      {show && window.innerWidth <= 900 && <Mask />}\n    </Container>\n  );\n};\n\nexport default Aside;\n"]},"metadata":{},"sourceType":"module"}